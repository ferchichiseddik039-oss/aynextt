{"ast":null,"code":"import _objectSpread from\"C:/Users/houda/OneDrive/Bureau/boutique-vetements/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{FaSearch,FaFilter,FaSort,FaHeart,FaShoppingCart,FaPalette}from'react-icons/fa';import{toast}from'react-toastify';import{useCart}from'../contexts/CartContext';import{useAuth}from'../contexts/AuthContext';import{formatBrand,debugObjects}from'../utils/formatUtils';import DebugWrapper from'../components/DebugWrapper';import SimpleHoodieDesigner from'../components/SimpleHoodieDesigner';import api from'../config/axios';import'../styles/Products.css';// Composant carte produit\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ProductCard=_ref=>{var _product$images,_product$images$,_product$images2,_product$images2$,_product$images3,_product$images3$,_product$images4,_product$images4$;let{product,onAddToCart,onCustomize}=_ref;const[selectedSize,setSelectedSize]=useState('');const[selectedColor,setSelectedColor]=useState('');const[showQuickView,setShowQuickView]=useState(false);// D√©bogage des donn√©es du produit\nReact.useEffect(()=>{debugObjects(product,'ProductCard - product');if(product!==null&&product!==void 0&&product.marque){debugObjects(product.marque,'ProductCard - product.marque');}},[product]);const availableSizes=product!==null&&product!==void 0&&product.tailles?product.tailles.filter(taille=>taille.stock>0).map(taille=>taille.nom):['S','M','L','XL'];// Tailles par d√©faut\nconst availableColors=product!==null&&product!==void 0&&product.couleurs?product.couleurs.map(couleur=>couleur.nom):['Noir','Blanc','Rouge','Bleu'];// Couleurs par d√©faut\nconst handleAddToCart=()=>{// Si aucune taille/couleur s√©lectionn√©e, utiliser des valeurs par d√©faut\nconst size=selectedSize||'M';const color=selectedColor||'Noir';console.log('handleAddToCart appel√© avec:',{product:product===null||product===void 0?void 0:product.nom,size,color,selectedSize,selectedColor});onAddToCart(product,size,color);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:(product===null||product===void 0?void 0:(_product$images=product.images)===null||_product$images===void 0?void 0:(_product$images$=_product$images[0])===null||_product$images$===void 0?void 0:_product$images$.url)||'/placeholder-product.jpg',alt:(product===null||product===void 0?void 0:(_product$images2=product.images)===null||_product$images2===void 0?void 0:(_product$images2$=_product$images2[0])===null||_product$images2$===void 0?void 0:_product$images2$.alt)||(product===null||product===void 0?void 0:product.nom)||'Produit',onError:e=>{e.target.src='/placeholder-product.jpg';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn favorite\",title:\"Ajouter aux favoris\",children:/*#__PURE__*/_jsx(FaHeart,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn quick-view\",onClick:()=>setShowQuickView(true),title:\"Voir rapidement\",children:/*#__PURE__*/_jsx(FaSearch,{})}),(product===null||product===void 0?void 0:product.estPersonnalise)&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn customize\",onClick:()=>onCustomize(product),title:\"Personnaliser\",children:/*#__PURE__*/_jsx(FaPalette,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-name\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product===null||product===void 0?void 0:product._id),children:(product===null||product===void 0?void 0:product.nom)||'Produit'})}),/*#__PURE__*/_jsx(\"p\",{className:\"product-brand\",children:formatBrand(product===null||product===void 0?void 0:product.marque)}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:(product===null||product===void 0?void 0:product.description)||''}),/*#__PURE__*/_jsx(\"div\",{className:\"product-price\",children:product!==null&&product!==void 0&&product.prixPromo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"original-price\",children:[(product===null||product===void 0?void 0:product.prix)||0,\"\\u20AC\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"promo-price\",children:[(product===null||product===void 0?void 0:product.prixPromo)||0,\"\\u20AC\"]})]}):/*#__PURE__*/_jsxs(\"span\",{className:\"price\",children:[(product===null||product===void 0?void 0:product.prix)||0,\"\\u20AC\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-options\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedSize,onChange:e=>setSelectedSize(e.target.value),className:\"size-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Taille\"}),availableSizes.map(size=>/*#__PURE__*/_jsx(\"option\",{value:size,children:size},size))]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedColor,onChange:e=>setSelectedColor(e.target.value),className:\"color-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Couleur\"}),availableColors.map(color=>/*#__PURE__*/_jsx(\"option\",{value:color,children:color},color))]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-to-cart-btn\",onClick:handleAddToCart,disabled:!selectedSize||!selectedColor,children:[/*#__PURE__*/_jsx(FaShoppingCart,{}),\"Ajouter au panier\"]})]}),showQuickView&&/*#__PURE__*/_jsx(\"div\",{className:\"quick-view-modal\",onClick:()=>setShowQuickView(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"quick-view-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setShowQuickView(false),children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-view-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"quick-view-image\",children:/*#__PURE__*/_jsx(\"img\",{src:(product===null||product===void 0?void 0:(_product$images3=product.images)===null||_product$images3===void 0?void 0:(_product$images3$=_product$images3[0])===null||_product$images3$===void 0?void 0:_product$images3$.url)||'/placeholder-product.jpg',alt:(product===null||product===void 0?void 0:(_product$images4=product.images)===null||_product$images4===void 0?void 0:(_product$images4$=_product$images4[0])===null||_product$images4$===void 0?void 0:_product$images4$.alt)||(product===null||product===void 0?void 0:product.nom)||'Produit'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-view-details\",children:[/*#__PURE__*/_jsx(\"h2\",{children:(product===null||product===void 0?void 0:product.nom)||'Produit'}),/*#__PURE__*/_jsx(\"p\",{className:\"brand\",children:formatBrand(product===null||product===void 0?void 0:product.marque)}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:(product===null||product===void 0?void 0:product.description)||''}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:product!==null&&product!==void 0&&product.prixPromo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"original\",children:[(product===null||product===void 0?void 0:product.prix)||0,\"\\u20AC\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"promo\",children:[(product===null||product===void 0?void 0:product.prixPromo)||0,\"\\u20AC\"]})]}):/*#__PURE__*/_jsxs(\"span\",{children:[(product===null||product===void 0?void 0:product.prix)||0,\"\\u20AC\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"options\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedSize,onChange:e=>setSelectedSize(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Taille\"}),availableSizes.map(size=>/*#__PURE__*/_jsx(\"option\",{value:size,children:size},size))]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedColor,onChange:e=>setSelectedColor(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Couleur\"}),availableColors.map(color=>/*#__PURE__*/_jsx(\"option\",{value:color,children:color},color))]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"add-to-cart-btn\",onClick:handleAddToCart,disabled:!selectedSize||!selectedColor,children:[/*#__PURE__*/_jsx(FaShoppingCart,{}),\"Ajouter au panier\"]}),/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(product===null||product===void 0?void 0:product._id),className:\"view-details-btn\",children:\"Voir les d\\xE9tails\"})]})]})]})})]});};const Products=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[categories,setCategories]=useState([]);const[brands,setBrands]=useState([]);const[filters,setFilters]=useState({category:'',brand:'',minPrice:'',maxPrice:'',size:'',color:''});const[sortBy,setSortBy]=useState('name');const[searchTerm,setSearchTerm]=useState('');const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);const[showFilters,setShowFilters]=useState(false);const[timeoutError,setTimeoutError]=useState(false);const[showCustomizer,setShowCustomizer]=useState(false);const[selectedProduct,setSelectedProduct]=useState(null);const{addToCart}=useCart();const{user,isAuthenticated}=useAuth();// Log de d√©bogage pour v√©rifier l'√©tat de connexion\nReact.useEffect(()=>{console.log('üîç √âtat de connexion dans Products:',{user:!!user,isAuthenticated,userId:user===null||user===void 0?void 0:user._id});},[user,isAuthenticated]);useEffect(()=>{// Charger les produits en priorit√©\nfetchProducts();// Charger les cat√©gories et marques seulement si pas encore charg√©es\nif(categories.length===0){fetchCategories();}if(brands.length===0){fetchBrands();}},[filters,sortBy,searchTerm,currentPage]);const fetchProducts=async()=>{try{setLoading(true);const params={page:currentPage,limit:12,tri:sortBy};// Mapper les filtres vers les noms attendus par le backend\nif(filters.category)params.categorie=filters.category;if(filters.brand)params.marque=filters.brand;if(filters.minPrice)params.prixMin=filters.minPrice;if(filters.maxPrice)params.prixMax=filters.maxPrice;if(filters.size)params.taille=filters.size;if(filters.color)params.couleur=filters.color;if(searchTerm)params.recherche=searchTerm;// Ajouter un timeout pour √©viter les attentes trop longues\nconst controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),2000);// 2 secondes max\nconst response=await api.get('/api/products',{params,signal:controller.signal,timeout:2000});clearTimeout(timeoutId);const data=response.data;const produits=data.produits||[];debugObjects(produits,'Products - fetchProducts');// Filtrer les produits pour ne garder que ceux qui sont disponibles (en stock)\nconst produitsDisponibles=produits.filter(product=>{// V√©rifier si le produit a des tailles avec du stock\nif(product.tailles&&Array.isArray(product.tailles)){return product.tailles.some(taille=>taille.stock>0);}// Si pas de tailles d√©finies, consid√©rer comme disponible\nreturn true;});setProducts(produitsDisponibles);setTotalPages(data.totalPages||1);}catch(error){if(error.name==='AbortError'){console.log('Timeout: Le serveur met trop de temps √† r√©pondre');setTimeoutError(true);setProducts([]);setTotalPages(1);}else{console.log('Aucun produit trouv√© ou base de donn√©es vide');setTimeoutError(false);setProducts([]);setTotalPages(1);}}finally{setLoading(false);}};const fetchCategories=async()=>{try{const response=await api.get('/api/products/categories/liste',{timeout:2000// 2 secondes max pour les cat√©gories\n});const data=response.data||[];// S'assurer que les donn√©es sont bien format√©es\nconst formattedCategories=data.map(cat=>{if(typeof cat==='string')return cat;if(typeof cat==='object'&&cat!==null){return{_id:cat._id||'',nom:cat.nom||cat.name||'',code:cat.code||''};}return String(cat);});debugObjects(formattedCategories,'Products - fetchCategories');setCategories(formattedCategories);}catch(error){console.log('Aucune cat√©gorie trouv√©e ou base de donn√©es vide');setCategories([]);}};const fetchBrands=async()=>{try{const response=await api.get('/api/products/marques/liste',{timeout:2000// 2 secondes max pour les marques\n});const data=response.data||[];// S'assurer que les donn√©es sont bien format√©es\nconst formattedBrands=data.map(brand=>{if(typeof brand==='string')return brand;if(typeof brand==='object'&&brand!==null){return{_id:brand._id||'',nom:brand.nom||brand.name||'',code:brand.code||''};}return String(brand);});debugObjects(formattedBrands,'Products - fetchBrands');setBrands(formattedBrands);}catch(error){console.log('Aucune marque trouv√©e ou base de donn√©es vide');setBrands([]);}};const handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));setCurrentPage(1);};const handleSortChange=value=>{setSortBy(value);setCurrentPage(1);};const handleSearch=e=>{e.preventDefault();setCurrentPage(1);};const clearFilters=()=>{setFilters({category:'',brand:'',minPrice:'',maxPrice:'',size:'',color:''});setSearchTerm('');setCurrentPage(1);};const handleRetry=()=>{setTimeoutError(false);setLoading(true);fetchProducts();};const handleAddToCart=async(product,selectedSize,selectedColor)=>{console.log('handleAddToCart appel√© avec:',{product:product===null||product===void 0?void 0:product.nom,productId:product===null||product===void 0?void 0:product._id,selectedSize,selectedColor,user:!!user});if(!user){console.log('Utilisateur non connect√©');toast.error('Veuillez vous connecter pour ajouter au panier');return;}// Utiliser des valeurs par d√©faut si aucune taille/couleur s√©lectionn√©e\nconst size=selectedSize||'M';const color=selectedColor||'Noir';console.log('Tentative d\\'ajout au panier...');const result=await addToCart(product._id,1,size,color);console.log('R√©sultat de l\\'ajout au panier:',result);if(!result.success){// Le toast d'erreur est d√©j√† affich√© dans CartContext\nconsole.error('Erreur ajout au panier:',result.message);}};const handleCustomize=product=>{setSelectedProduct(product);setShowCustomizer(true);};const handleCloseCustomizer=()=>{setShowCustomizer(false);setSelectedProduct(null);};const handleCustomAddToCart=async(customProduct,selectedSize,selectedColor)=>{var _customProduct$person,_customProduct$person2;if(!user){toast.error('Veuillez vous connecter pour ajouter au panier');return;}// Pour les produits personnalis√©s, on ajoute les informations de personnalisation\nconst customData={productId:customProduct._id,personnalisation:customProduct.personnalisation,size:selectedSize||'M',color:selectedColor||((_customProduct$person=customProduct.personnalisation)===null||_customProduct$person===void 0?void 0:(_customProduct$person2=_customProduct$person.couleur)===null||_customProduct$person2===void 0?void 0:_customProduct$person2.nom)||'Noir'};console.log('Ajout produit personnalis√© au panier:',customData);// Ici, vous pourriez adapter la logique d'ajout au panier pour les produits personnalis√©s\nconst result=await addToCart(customProduct._id,1,customData.size,customData.color);if(result.success){toast.success('Produit personnalis√© ajout√© au panier !');handleCloseCustomizer();}else{console.error('Erreur ajout produit personnalis√©:',result.message);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement des produits...\"})]});}return/*#__PURE__*/_jsxs(DebugWrapper,{name:\"Products\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Nos Produits\"}),/*#__PURE__*/_jsx(\"p\",{children:\"D\\xE9couvrez notre collection de v\\xEAtements tendance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters-sidebar \".concat(showFilters?'show':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filters-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filtres\"}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-filters\",onClick:clearFilters,children:\"Effacer\"})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,className:\"search-form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-input\",children:[/*#__PURE__*/_jsx(FaSearch,{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rechercher un produit...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]})}),categories&&categories.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Cat\\xE9gorie\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.category,onChange:e=>handleFilterChange('category',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les cat\\xE9gories\"}),categories.map(cat=>{const key=typeof cat==='object'?cat._id||cat.code||cat.nom||'unknown':cat;const value=typeof cat==='object'?cat.nom||cat.code||cat._id||'':cat;const display=typeof cat==='object'?cat.nom||cat.code||cat._id||'':cat;return/*#__PURE__*/_jsx(\"option\",{value:value,children:display},key);})]})]}),brands&&brands.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Marque\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.brand,onChange:e=>handleFilterChange('brand',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les marques\"}),brands.map(brand=>{const key=typeof brand==='object'?brand._id||brand.code||brand.nom||'unknown':brand;const value=typeof brand==='object'?brand.nom||brand.code||brand._id||'':brand;const display=typeof brand==='object'?brand.nom||brand.code||brand._id||'':brand;return/*#__PURE__*/_jsx(\"option\",{value:value,children:display},key);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Prix\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-inputs\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Min\",value:filters.minPrice,onChange:e=>handleFilterChange('minPrice',e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Max\",value:filters.maxPrice,onChange:e=>handleFilterChange('maxPrice',e.target.value)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Taille\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.size,onChange:e=>handleFilterChange('size',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les tailles\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XS\",children:\"XS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"S\",children:\"S\"}),/*#__PURE__*/_jsx(\"option\",{value:\"M\",children:\"M\"}),/*#__PURE__*/_jsx(\"option\",{value:\"L\",children:\"L\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XL\",children:\"XL\"}),/*#__PURE__*/_jsx(\"option\",{value:\"XXL\",children:\"XXL\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Couleur\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.color,onChange:e=>handleFilterChange('color',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Toutes les couleurs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"noir\",children:\"Noir\"}),/*#__PURE__*/_jsx(\"option\",{value:\"blanc\",children:\"Blanc\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rouge\",children:\"Rouge\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bleu\",children:\"Bleu\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vert\",children:\"Vert\"}),/*#__PURE__*/_jsx(\"option\",{value:\"jaune\",children:\"Jaune\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rose\",children:\"Rose\"}),/*#__PURE__*/_jsx(\"option\",{value:\"gris\",children:\"Gris\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"products-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-toolbar\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"filters-toggle\",onClick:()=>setShowFilters(!showFilters),children:[/*#__PURE__*/_jsx(FaFilter,{}),\"Filtres\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sort-controls\",children:[/*#__PURE__*/_jsx(FaSort,{}),/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>handleSortChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Nom A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"-name\",children:\"Nom Z-A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"prix\",children:\"Prix croissant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"-prix\",children:\"Prix d\\xE9croissant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"createdAt\",children:\"Plus r\\xE9cents\"}),/*#__PURE__*/_jsx(\"option\",{value:\"-createdAt\",children:\"Plus anciens\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-info\",children:[(products===null||products===void 0?void 0:products.length)||0,\" produit(s) disponible(s)\",/*#__PURE__*/_jsx(\"small\",{style:{display:'block',color:'#666',fontSize:'0.9em'},children:\"Seuls les produits en stock sont affich\\xE9s\"})]})]}),!products||products.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-products\",children:timeoutError?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u23F1\\uFE0F D\\xE9lai d'attente d\\xE9pass\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Le serveur met trop de temps \\xE0 r\\xE9pondre. Voulez-vous r\\xE9essayer ?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,className:\"retry-button\",children:\"\\uD83D\\uDD04 R\\xE9essayer\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Aucun produit disponible\"}),/*#__PURE__*/_jsx(\"p\",{children:searchTerm||Object.values(filters).some(f=>f)?\"Aucun produit en stock ne correspond √† vos crit√®res. Essayez de modifier vos filtres ou votre recherche.\":\"Aucun produit en stock pour le moment. La boutique est en cours de pr√©paration. Revenez bient√¥t !\"})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:products===null||products===void 0?void 0:products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product,onAddToCart:handleAddToCart,onCustomize:handleCustomize},product._id))}),totalPages>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:currentPage===1,children:\"Pr\\xE9c\\xE9dent\"}),Array.from({length:totalPages},(_,i)=>i+1).map(page=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(page),className:currentPage===page?'active':'',children:page},page)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(prev=>Math.min(totalPages,prev+1)),disabled:currentPage===totalPages,children:\"Suivant\"})]})]})]})]})]}),showCustomizer&&selectedProduct&&/*#__PURE__*/_jsx(SimpleHoodieDesigner,{onClose:handleCloseCustomizer})]});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","Link","FaSearch","FaFilter","FaSort","FaHeart","FaShoppingCart","FaPalette","toast","useCart","useAuth","formatBrand","debugObjects","DebugWrapper","SimpleHoodieDesigner","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductCard","_ref","_product$images","_product$images$","_product$images2","_product$images2$","_product$images3","_product$images3$","_product$images4","_product$images4$","product","onAddToCart","onCustomize","selectedSize","setSelectedSize","selectedColor","setSelectedColor","showQuickView","setShowQuickView","marque","availableSizes","tailles","filter","taille","stock","map","nom","availableColors","couleurs","couleur","handleAddToCart","size","color","console","log","className","children","src","images","url","alt","onError","e","target","title","onClick","estPersonnalise","to","concat","_id","description","prixPromo","prix","value","onChange","disabled","stopPropagation","Products","products","setProducts","loading","setLoading","categories","setCategories","brands","setBrands","filters","setFilters","category","brand","minPrice","maxPrice","sortBy","setSortBy","searchTerm","setSearchTerm","currentPage","setCurrentPage","totalPages","setTotalPages","showFilters","setShowFilters","timeoutError","setTimeoutError","showCustomizer","setShowCustomizer","selectedProduct","setSelectedProduct","addToCart","user","isAuthenticated","userId","fetchProducts","length","fetchCategories","fetchBrands","params","page","limit","tri","categorie","prixMin","prixMax","recherche","controller","AbortController","timeoutId","setTimeout","abort","response","get","signal","timeout","clearTimeout","data","produits","produitsDisponibles","Array","isArray","some","error","name","formattedCategories","cat","code","String","formattedBrands","handleFilterChange","key","prev","_objectSpread","handleSortChange","handleSearch","preventDefault","clearFilters","handleRetry","productId","result","success","message","handleCustomize","handleCloseCustomizer","handleCustomAddToCart","customProduct","_customProduct$person","_customProduct$person2","customData","personnalisation","onSubmit","type","placeholder","display","style","fontSize","Object","values","f","Math","max","from","_","i","min","onClose"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/client/src/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { FaSearch, FaFilter, FaSort, FaHeart, FaShoppingCart, FaPalette } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport { useCart } from '../contexts/CartContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { formatBrand, debugObjects } from '../utils/formatUtils';\nimport DebugWrapper from '../components/DebugWrapper';\nimport SimpleHoodieDesigner from '../components/SimpleHoodieDesigner';\nimport api from '../config/axios';\nimport '../styles/Products.css';\n\n// Composant carte produit\nconst ProductCard = ({ product, onAddToCart, onCustomize }) => {\n  const [selectedSize, setSelectedSize] = useState('');\n  const [selectedColor, setSelectedColor] = useState('');\n  const [showQuickView, setShowQuickView] = useState(false);\n\n  // D√©bogage des donn√©es du produit\n  React.useEffect(() => {\n    debugObjects(product, 'ProductCard - product');\n    if (product?.marque) {\n      debugObjects(product.marque, 'ProductCard - product.marque');\n    }\n  }, [product]);\n\n  const availableSizes = product?.tailles ? product.tailles.filter(taille => \n    taille.stock > 0\n  ).map(taille => taille.nom) : ['S', 'M', 'L', 'XL']; // Tailles par d√©faut\n\n  const availableColors = product?.couleurs ? product.couleurs.map(couleur => couleur.nom) : ['Noir', 'Blanc', 'Rouge', 'Bleu']; // Couleurs par d√©faut\n\n  const handleAddToCart = () => {\n    // Si aucune taille/couleur s√©lectionn√©e, utiliser des valeurs par d√©faut\n    const size = selectedSize || 'M';\n    const color = selectedColor || 'Noir';\n    \n    console.log('handleAddToCart appel√© avec:', { \n      product: product?.nom, \n      size, \n      color, \n      selectedSize, \n      selectedColor \n    });\n    \n    onAddToCart(product, size, color);\n  };\n\n  return (\n    <div className=\"product-card\">\n      <div className=\"product-image\">\n        <img \n          src={product?.images?.[0]?.url || '/placeholder-product.jpg'} \n          alt={product?.images?.[0]?.alt || product?.nom || 'Produit'}\n          onError={(e) => {\n            e.target.src = '/placeholder-product.jpg';\n          }}\n        />\n        <div className=\"product-actions\">\n          <button \n            className=\"action-btn favorite\"\n            title=\"Ajouter aux favoris\"\n          >\n            <FaHeart />\n          </button>\n          <button \n            className=\"action-btn quick-view\"\n            onClick={() => setShowQuickView(true)}\n            title=\"Voir rapidement\"\n          >\n            <FaSearch />\n          </button>\n          {product?.estPersonnalise && (\n            <button \n              className=\"action-btn customize\"\n              onClick={() => onCustomize(product)}\n              title=\"Personnaliser\"\n            >\n              <FaPalette />\n            </button>\n          )}\n        </div>\n      </div>\n\n      <div className=\"product-info\">\n        <h3 className=\"product-name\">\n          <Link to={`/product/${product?._id}`}>\n            {product?.nom || 'Produit'}\n          </Link>\n        </h3>\n        \n        <p className=\"product-brand\">{formatBrand(product?.marque)}</p>\n        <p className=\"product-description\">{product?.description || ''}</p>\n        \n        <div className=\"product-price\">\n          {product?.prixPromo ? (\n            <>\n              <span className=\"original-price\">{product?.prix || 0}‚Ç¨</span>\n              <span className=\"promo-price\">{product?.prixPromo || 0}‚Ç¨</span>\n            </>\n          ) : (\n            <span className=\"price\">{product?.prix || 0}‚Ç¨</span>\n          )}\n        </div>\n\n        <div className=\"product-options\">\n          <select\n            value={selectedSize}\n            onChange={(e) => setSelectedSize(e.target.value)}\n            className=\"size-select\"\n          >\n            <option value=\"\">Taille</option>\n            {availableSizes.map(size => (\n              <option key={size} value={size}>{size}</option>\n            ))}\n          </select>\n\n          <select\n            value={selectedColor}\n            onChange={(e) => setSelectedColor(e.target.value)}\n            className=\"color-select\"\n          >\n            <option value=\"\">Couleur</option>\n            {availableColors.map(color => (\n              <option key={color} value={color}>{color}</option>\n            ))}\n          </select>\n        </div>\n\n        <button\n          className=\"add-to-cart-btn\"\n          onClick={handleAddToCart}\n          disabled={!selectedSize || !selectedColor}\n        >\n          <FaShoppingCart />\n          Ajouter au panier\n        </button>\n      </div>\n\n      {/* Quick View Modal */}\n      {showQuickView && (\n        <div className=\"quick-view-modal\" onClick={() => setShowQuickView(false)}>\n          <div className=\"quick-view-content\" onClick={e => e.stopPropagation()}>\n            <button \n              className=\"close-btn\"\n              onClick={() => setShowQuickView(false)}\n            >\n              √ó\n            </button>\n            \n            <div className=\"quick-view-grid\">\n              <div className=\"quick-view-image\">\n                <img src={product?.images?.[0]?.url || '/placeholder-product.jpg'} alt={product?.images?.[0]?.alt || product?.nom || 'Produit'} />\n              </div>\n              \n              <div className=\"quick-view-details\">\n                <h2>{product?.nom || 'Produit'}</h2>\n                <p className=\"brand\">{formatBrand(product?.marque)}</p>\n                <p className=\"description\">{product?.description || ''}</p>\n                \n                <div className=\"price\">\n                  {product?.prixPromo ? (\n                    <>\n                      <span className=\"original\">{product?.prix || 0}‚Ç¨</span>\n                      <span className=\"promo\">{product?.prixPromo || 0}‚Ç¨</span>\n                    </>\n                  ) : (\n                    <span>{product?.prix || 0}‚Ç¨</span>\n                  )}\n                </div>\n\n                <div className=\"options\">\n                  <select\n                    value={selectedSize}\n                    onChange={(e) => setSelectedSize(e.target.value)}\n                  >\n                    <option value=\"\">Taille</option>\n                    {availableSizes.map(size => (\n                      <option key={size} value={size}>{size}</option>\n                    ))}\n                  </select>\n\n                  <select\n                    value={selectedColor}\n                    onChange={(e) => setSelectedColor(e.target.value)}\n                  >\n                    <option value=\"\">Couleur</option>\n                    {availableColors.map(color => (\n                      <option key={color} value={color}>{color}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <button\n                  className=\"add-to-cart-btn\"\n                  onClick={handleAddToCart}\n                  disabled={!selectedSize || !selectedColor}\n                >\n                  <FaShoppingCart />\n                  Ajouter au panier\n                </button>\n\n                <Link \n                  to={`/product/${product?._id}`}\n                  className=\"view-details-btn\"\n                >\n                  Voir les d√©tails\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst Products = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [categories, setCategories] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [filters, setFilters] = useState({\n    category: '',\n    brand: '',\n    minPrice: '',\n    maxPrice: '',\n    size: '',\n    color: ''\n  });\n  const [sortBy, setSortBy] = useState('name');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [showFilters, setShowFilters] = useState(false);\n  const [timeoutError, setTimeoutError] = useState(false);\n  const [showCustomizer, setShowCustomizer] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n\n  const { addToCart } = useCart();\n  const { user, isAuthenticated } = useAuth();\n  \n  // Log de d√©bogage pour v√©rifier l'√©tat de connexion\n  React.useEffect(() => {\n    console.log('üîç √âtat de connexion dans Products:', { \n      user: !!user, \n      isAuthenticated, \n      userId: user?._id \n    });\n  }, [user, isAuthenticated]);\n\n\n  useEffect(() => {\n    // Charger les produits en priorit√©\n    fetchProducts();\n    \n    // Charger les cat√©gories et marques seulement si pas encore charg√©es\n    if (categories.length === 0) {\n      fetchCategories();\n    }\n    if (brands.length === 0) {\n      fetchBrands();\n    }\n  }, [filters, sortBy, searchTerm, currentPage]);\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const params = {\n        page: currentPage,\n        limit: 12,\n        tri: sortBy\n      };\n      \n      // Mapper les filtres vers les noms attendus par le backend\n      if (filters.category) params.categorie = filters.category;\n      if (filters.brand) params.marque = filters.brand;\n      if (filters.minPrice) params.prixMin = filters.minPrice;\n      if (filters.maxPrice) params.prixMax = filters.maxPrice;\n      if (filters.size) params.taille = filters.size;\n      if (filters.color) params.couleur = filters.color;\n      \n      if (searchTerm) params.recherche = searchTerm;\n\n      // Ajouter un timeout pour √©viter les attentes trop longues\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 2000); // 2 secondes max\n\n      const response = await api.get('/api/products', { \n        params,\n        signal: controller.signal,\n        timeout: 2000\n      });\n      \n      clearTimeout(timeoutId);\n      const data = response.data;\n      \n      const produits = data.produits || [];\n      debugObjects(produits, 'Products - fetchProducts');\n      \n      // Filtrer les produits pour ne garder que ceux qui sont disponibles (en stock)\n      const produitsDisponibles = produits.filter(product => {\n        // V√©rifier si le produit a des tailles avec du stock\n        if (product.tailles && Array.isArray(product.tailles)) {\n          return product.tailles.some(taille => taille.stock > 0);\n        }\n        // Si pas de tailles d√©finies, consid√©rer comme disponible\n        return true;\n      });\n      \n      setProducts(produitsDisponibles);\n      setTotalPages(data.totalPages || 1);\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        console.log('Timeout: Le serveur met trop de temps √† r√©pondre');\n        setTimeoutError(true);\n        setProducts([]);\n        setTotalPages(1);\n      } else {\n        console.log('Aucun produit trouv√© ou base de donn√©es vide');\n        setTimeoutError(false);\n        setProducts([]);\n        setTotalPages(1);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const response = await api.get('/api/products/categories/liste', {\n        timeout: 2000 // 2 secondes max pour les cat√©gories\n      });\n      const data = response.data || [];\n      // S'assurer que les donn√©es sont bien format√©es\n      const formattedCategories = data.map(cat => {\n        if (typeof cat === 'string') return cat;\n        if (typeof cat === 'object' && cat !== null) {\n          return {\n            _id: cat._id || '',\n            nom: cat.nom || cat.name || '',\n            code: cat.code || ''\n          };\n        }\n        return String(cat);\n      });\n      debugObjects(formattedCategories, 'Products - fetchCategories');\n      setCategories(formattedCategories);\n    } catch (error) {\n      console.log('Aucune cat√©gorie trouv√©e ou base de donn√©es vide');\n      setCategories([]);\n    }\n  };\n\n  const fetchBrands = async () => {\n    try {\n      const response = await api.get('/api/products/marques/liste', {\n        timeout: 2000 // 2 secondes max pour les marques\n      });\n      const data = response.data || [];\n      // S'assurer que les donn√©es sont bien format√©es\n      const formattedBrands = data.map(brand => {\n        if (typeof brand === 'string') return brand;\n        if (typeof brand === 'object' && brand !== null) {\n          return {\n            _id: brand._id || '',\n            nom: brand.nom || brand.name || '',\n            code: brand.code || ''\n          };\n        }\n        return String(brand);\n      });\n      debugObjects(formattedBrands, 'Products - fetchBrands');\n      setBrands(formattedBrands);\n    } catch (error) {\n      console.log('Aucune marque trouv√©e ou base de donn√©es vide');\n      setBrands([]);\n    }\n  };\n\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({ ...prev, [key]: value }));\n    setCurrentPage(1);\n  };\n\n  const handleSortChange = (value) => {\n    setSortBy(value);\n    setCurrentPage(1);\n  };\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    setCurrentPage(1);\n  };\n\n  const clearFilters = () => {\n    setFilters({\n      category: '',\n      brand: '',\n      minPrice: '',\n      maxPrice: '',\n      size: '',\n      color: ''\n    });\n    setSearchTerm('');\n    setCurrentPage(1);\n  };\n\n  const handleRetry = () => {\n    setTimeoutError(false);\n    setLoading(true);\n    fetchProducts();\n  };\n\n  const handleAddToCart = async (product, selectedSize, selectedColor) => {\n    console.log('handleAddToCart appel√© avec:', { \n      product: product?.nom, \n      productId: product?._id, \n      selectedSize, \n      selectedColor, \n      user: !!user \n    });\n\n    if (!user) {\n      console.log('Utilisateur non connect√©');\n      toast.error('Veuillez vous connecter pour ajouter au panier');\n      return;\n    }\n\n    // Utiliser des valeurs par d√©faut si aucune taille/couleur s√©lectionn√©e\n    const size = selectedSize || 'M';\n    const color = selectedColor || 'Noir';\n\n    console.log('Tentative d\\'ajout au panier...');\n    const result = await addToCart(product._id, 1, size, color);\n    console.log('R√©sultat de l\\'ajout au panier:', result);\n    if (!result.success) {\n      // Le toast d'erreur est d√©j√† affich√© dans CartContext\n      console.error('Erreur ajout au panier:', result.message);\n    }\n  };\n\n  const handleCustomize = (product) => {\n    setSelectedProduct(product);\n    setShowCustomizer(true);\n  };\n\n  const handleCloseCustomizer = () => {\n    setShowCustomizer(false);\n    setSelectedProduct(null);\n  };\n\n  const handleCustomAddToCart = async (customProduct, selectedSize, selectedColor) => {\n    if (!user) {\n      toast.error('Veuillez vous connecter pour ajouter au panier');\n      return;\n    }\n\n    // Pour les produits personnalis√©s, on ajoute les informations de personnalisation\n    const customData = {\n      productId: customProduct._id,\n      personnalisation: customProduct.personnalisation,\n      size: selectedSize || 'M',\n      color: selectedColor || customProduct.personnalisation?.couleur?.nom || 'Noir'\n    };\n\n    console.log('Ajout produit personnalis√© au panier:', customData);\n    \n    // Ici, vous pourriez adapter la logique d'ajout au panier pour les produits personnalis√©s\n    const result = await addToCart(customProduct._id, 1, customData.size, customData.color);\n    \n    if (result.success) {\n      toast.success('Produit personnalis√© ajout√© au panier !');\n      handleCloseCustomizer();\n    } else {\n      console.error('Erreur ajout produit personnalis√©:', result.message);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Chargement des produits...</p>\n      </div>\n    );\n  }\n\n  return (\n    <DebugWrapper name=\"Products\">\n      <div className=\"products-page\">\n        <div className=\"products-header\">\n          <h1>Nos Produits</h1>\n          <p>D√©couvrez notre collection de v√™tements tendance</p>\n        </div>\n\n        <div className=\"products-container\">\n          {/* Filtres et recherche */}\n          <div className={`filters-sidebar ${showFilters ? 'show' : ''}`}>\n            <div className=\"filters-header\">\n              <h3>Filtres</h3>\n              <button \n                className=\"clear-filters\"\n                onClick={clearFilters}\n              >\n                Effacer\n              </button>\n            </div>\n\n            <form onSubmit={handleSearch} className=\"search-form\">\n              <div className=\"search-input\">\n                <FaSearch />\n                <input\n                  type=\"text\"\n                  placeholder=\"Rechercher un produit...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                />\n              </div>\n            </form>\n\n            {categories && categories.length > 0 && (\n              <div className=\"filter-section\">\n                <h4>Cat√©gorie</h4>\n                <select\n                  value={filters.category}\n                  onChange={(e) => handleFilterChange('category', e.target.value)}\n                >\n                  <option value=\"\">Toutes les cat√©gories</option>\n                  {categories.map(cat => {\n                    const key = typeof cat === 'object' ? (cat._id || cat.code || cat.nom || 'unknown') : cat;\n                    const value = typeof cat === 'object' ? (cat.nom || cat.code || cat._id || '') : cat;\n                    const display = typeof cat === 'object' ? (cat.nom || cat.code || cat._id || '') : cat;\n                    return (\n                      <option key={key} value={value}>\n                        {display}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            )}\n\n            {brands && brands.length > 0 && (\n              <div className=\"filter-section\">\n                <h4>Marque</h4>\n                <select\n                  value={filters.brand}\n                  onChange={(e) => handleFilterChange('brand', e.target.value)}\n                >\n                  <option value=\"\">Toutes les marques</option>\n                  {brands.map(brand => {\n                    const key = typeof brand === 'object' ? (brand._id || brand.code || brand.nom || 'unknown') : brand;\n                    const value = typeof brand === 'object' ? (brand.nom || brand.code || brand._id || '') : brand;\n                    const display = typeof brand === 'object' ? (brand.nom || brand.code || brand._id || '') : brand;\n                    return (\n                      <option key={key} value={value}>\n                        {display}\n                      </option>\n                    );\n                  })}\n                </select>\n              </div>\n            )}\n\n            <div className=\"filter-section\">\n              <h4>Prix</h4>\n              <div className=\"price-inputs\">\n                <input\n                  type=\"number\"\n                  placeholder=\"Min\"\n                  value={filters.minPrice}\n                  onChange={(e) => handleFilterChange('minPrice', e.target.value)}\n                />\n                <span>-</span>\n                <input\n                  type=\"number\"\n                  placeholder=\"Max\"\n                  value={filters.maxPrice}\n                  onChange={(e) => handleFilterChange('maxPrice', e.target.value)}\n                />\n              </div>\n            </div>\n\n            <div className=\"filter-section\">\n              <h4>Taille</h4>\n              <select\n                value={filters.size}\n                onChange={(e) => handleFilterChange('size', e.target.value)}\n              >\n                <option value=\"\">Toutes les tailles</option>\n                <option value=\"XS\">XS</option>\n                <option value=\"S\">S</option>\n                <option value=\"M\">M</option>\n                <option value=\"L\">L</option>\n                <option value=\"XL\">XL</option>\n                <option value=\"XXL\">XXL</option>\n              </select>\n            </div>\n\n            <div className=\"filter-section\">\n              <h4>Couleur</h4>\n              <select\n                value={filters.color}\n                onChange={(e) => handleFilterChange('color', e.target.value)}\n              >\n                <option value=\"\">Toutes les couleurs</option>\n                <option value=\"noir\">Noir</option>\n                <option value=\"blanc\">Blanc</option>\n                <option value=\"rouge\">Rouge</option>\n                <option value=\"bleu\">Bleu</option>\n                <option value=\"vert\">Vert</option>\n                <option value=\"jaune\">Jaune</option>\n                <option value=\"rose\">Rose</option>\n                <option value=\"gris\">Gris</option>\n              </select>\n            </div>\n          </div>\n\n          {/* Produits */}\n          <div className=\"products-main\">\n            <div className=\"products-toolbar\">\n              <button\n                className=\"filters-toggle\"\n                onClick={() => setShowFilters(!showFilters)}\n              >\n                <FaFilter />\n                Filtres\n              </button>\n\n              <div className=\"sort-controls\">\n                <FaSort />\n                <select\n                  value={sortBy}\n                  onChange={(e) => handleSortChange(e.target.value)}\n                >\n                  <option value=\"name\">Nom A-Z</option>\n                  <option value=\"-name\">Nom Z-A</option>\n                  <option value=\"prix\">Prix croissant</option>\n                  <option value=\"-prix\">Prix d√©croissant</option>\n                  <option value=\"createdAt\">Plus r√©cents</option>\n                  <option value=\"-createdAt\">Plus anciens</option>\n                </select>\n              </div>\n\n              <div className=\"results-info\">\n                {products?.length || 0} produit(s) disponible(s)\n                <small style={{ display: 'block', color: '#666', fontSize: '0.9em' }}>\n                  Seuls les produits en stock sont affich√©s\n                </small>\n              </div>\n            </div>\n\n            {!products || products.length === 0 ? (\n              <div className=\"no-products\">\n                {timeoutError ? (\n                  <>\n                    <h3>‚è±Ô∏è D√©lai d'attente d√©pass√©</h3>\n                    <p>Le serveur met trop de temps √† r√©pondre. Voulez-vous r√©essayer ?</p>\n                    <button onClick={handleRetry} className=\"retry-button\">\n                      üîÑ R√©essayer\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    <h3>Aucun produit disponible</h3>\n                    <p>\n                      {searchTerm || Object.values(filters).some(f => f) \n                        ? \"Aucun produit en stock ne correspond √† vos crit√®res. Essayez de modifier vos filtres ou votre recherche.\" \n                        : \"Aucun produit en stock pour le moment. La boutique est en cours de pr√©paration. Revenez bient√¥t !\"\n                      }\n                    </p>\n                  </>\n                )}\n              </div>\n            ) : (\n              <>\n                <div className=\"products-grid\">\n                  {products?.map(product => (\n                    <ProductCard\n                      key={product._id}\n                      product={product}\n                      onAddToCart={handleAddToCart}\n                      onCustomize={handleCustomize}\n                    />\n                  ))}\n                </div>\n\n                {/* Pagination */}\n                {totalPages > 1 && (\n                  <div className=\"pagination\">\n                    <button\n                      onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n                      disabled={currentPage === 1}\n                    >\n                      Pr√©c√©dent\n                    </button>\n                    \n                    {Array.from({ length: totalPages }, (_, i) => i + 1).map(page => (\n                      <button\n                        key={page}\n                        onClick={() => setCurrentPage(page)}\n                        className={currentPage === page ? 'active' : ''}\n                      >\n                        {page}\n                      </button>\n                    ))}\n                    \n                    <button\n                      onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\n                      disabled={currentPage === totalPages}\n                    >\n                      Suivant\n                    </button>\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Customizer Modal */}\n      {showCustomizer && selectedProduct && (\n        <SimpleHoodieDesigner\n          onClose={handleCloseCustomizer}\n        />\n      )}\n    </DebugWrapper>\n  );\n};\n\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}