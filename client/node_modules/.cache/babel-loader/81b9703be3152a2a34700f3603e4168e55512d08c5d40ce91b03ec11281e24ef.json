{"ast":null,"code":"import _objectSpread from\"C:/Users/houda/OneDrive/Bureau/boutique-vetements/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{FaPlus,FaEdit,FaTrash,FaEye,FaUsers,FaBox,FaShoppingCart,FaChartLine,FaCog,FaSignOutAlt}from'react-icons/fa';import{toast}from'react-toastify';import{useAuth}from'../contexts/AuthContext';import{formatBrand}from'../utils/formatUtils';import'../styles/Admin.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Admin=()=>{const[activeTab,setActiveTab]=useState('dashboard');const[loading,setLoading]=useState(true);const[stats,setStats]=useState({});const[products,setProducts]=useState([]);const[orders,setOrders]=useState([]);const[users,setUsers]=useState([]);const[usersPagination,setUsersPagination]=useState({page:1,limit:20,total:0,pages:0});const[usersSearch,setUsersSearch]=useState('');const[usersRoleFilter,setUsersRoleFilter]=useState('');const{user,logout}=useAuth();const navigate=useNavigate();useEffect(()=>{if(user&&user.role==='admin'){fetchDashboardData();}},[user]);const handleLogout=()=>{if(window.confirm('Êtes-vous sûr de vouloir vous déconnecter ?')){logout();navigate('/');toast.success('Déconnexion réussie');}};// Charger les utilisateurs quand on clique sur l'onglet Utilisateurs\nuseEffect(()=>{if(activeTab==='users'&&user&&user.role==='admin'){fetchUsers(1,20,'','');}},[activeTab,user]);const fetchDashboardData=async()=>{try{setLoading(true);// Charger les statistiques\nconst statsResponse=await fetch('/api/admin/stats',{headers:{'x-auth-token':localStorage.getItem('token')}});if(statsResponse.ok){const statsData=await statsResponse.json();setStats(statsData);}// Charger les produits\nconst productsResponse=await fetch('/api/products?limit=10',{headers:{'x-auth-token':localStorage.getItem('token')}});if(productsResponse.ok){const productsData=await productsResponse.json();setProducts(productsData.products||[]);}// Charger les commandes récentes\nconst ordersResponse=await fetch('/api/orders?limit=10',{headers:{'x-auth-token':localStorage.getItem('token')}});if(ordersResponse.ok){const ordersData=await ordersResponse.json();setOrders(ordersData.orders);}// Charger les utilisateurs récents pour le dashboard\nawait fetchUsers(1,10);}catch(error){toast.error('Erreur lors du chargement des données');}finally{setLoading(false);}};const fetchUsers=async function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;let search=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';let role=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'';try{const params=new URLSearchParams({page:page.toString(),limit:limit.toString()});if(search)params.append('recherche',search);if(role)params.append('role',role);const response=await fetch(\"/api/users/admin/tous?\".concat(params),{headers:{'x-auth-token':localStorage.getItem('token')}});if(response.ok){const data=await response.json();setUsers(data.utilisateurs);setUsersPagination(data.pagination);}else{toast.error('Erreur lors du chargement des utilisateurs');}}catch(error){toast.error('Erreur lors du chargement des utilisateurs');}};if(!user||user.role!=='admin'){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"admin-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"access-denied\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Acc\\xE8s refus\\xE9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Vous n'avez pas les permissions n\\xE9cessaires pour acc\\xE9der \\xE0 cette page.\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn-primary\",children:\"Retour \\xE0 l'accueil\"})]})})});}if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement du tableau de bord...\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"admin-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Administration\"}),/*#__PURE__*/_jsx(\"p\",{children:\"SHADOWHOOD\"})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"sidebar-nav\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='dashboard'?'active':''),onClick:()=>setActiveTab('dashboard'),children:[/*#__PURE__*/_jsx(FaChartLine,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Tableau de bord\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='products'?'active':''),onClick:()=>setActiveTab('products'),children:[/*#__PURE__*/_jsx(FaBox,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Produits\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='orders'?'active':''),onClick:()=>setActiveTab('orders'),children:[/*#__PURE__*/_jsx(FaShoppingCart,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Commandes\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='users'?'active':''),onClick:()=>setActiveTab('users'),children:[/*#__PURE__*/_jsx(FaUsers,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Utilisateurs\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item \".concat(activeTab==='settings'?'active':''),onClick:()=>setActiveTab('settings'),children:[/*#__PURE__*/_jsx(FaCog,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Param\\xE8tres\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-footer\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"sidebar-item logout-btn\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(FaSignOutAlt,{className:\"sidebar-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:\"D\\xE9connexion\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-content\",children:[activeTab==='dashboard'&&/*#__PURE__*/_jsx(DashboardTab,{stats:stats}),activeTab==='products'&&/*#__PURE__*/_jsx(ProductsTab,{products:products,onProductAdded:newProduct=>{setProducts(prev=>[...(prev||[]),newProduct]);}}),activeTab==='orders'&&/*#__PURE__*/_jsx(OrdersTab,{orders:orders}),activeTab==='users'&&/*#__PURE__*/_jsx(UsersTab,{users:users,pagination:usersPagination}),activeTab==='settings'&&/*#__PURE__*/_jsx(SettingsTab,{})]})})]})});};// Onglet Tableau de bord\nconst DashboardTab=_ref=>{let{stats}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-tab\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"simple-stats\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Statistiques de la boutique\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaUsers,{className:\"stat-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.totalUsers||0}),/*#__PURE__*/_jsx(\"p\",{children:\"Utilisateurs\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaBox,{className:\"stat-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.totalProducts||0}),/*#__PURE__*/_jsx(\"p\",{children:\"Produits\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaShoppingCart,{className:\"stat-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.totalOrders||0}),/*#__PURE__*/_jsx(\"p\",{children:\"Commandes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(FaChartLine,{className:\"stat-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[stats.chiffreAffaires||0,\"\\u20AC\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Chiffre d'affaires\"})]})]})]})]})});};// Onglet Produits\nconst ProductsTab=_ref2=>{let{products,onProductAdded}=_ref2;const[showAddForm,setShowAddForm]=useState(false);const[loading,setLoading]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"products-tab\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gestion des produits\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",(products===null||products===void 0?void 0:products.length)||0,\" produits\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary\",onClick:()=>setShowAddForm(true),children:[/*#__PURE__*/_jsx(FaPlus,{}),\"Ajouter un produit\"]})]})]}),showAddForm&&/*#__PURE__*/_jsx(AddProductForm,{onClose:()=>setShowAddForm(false),onProductAdded:newProduct=>{onProductAdded(newProduct);setShowAddForm(false);}}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:(products||[]).map(product=>{const totalStock=product.tailles?product.tailles.reduce((total,taille)=>total+(taille.stock||0),0):0;const mainImage=product.images&&product.images.length>0?product.images[0].url:null;return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-image\",children:[mainImage?/*#__PURE__*/_jsx(\"img\",{src:mainImage,alt:product.images[0].alt||product.nom,onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"no-image\",style:{display:mainImage?'none':'flex'},children:[/*#__PURE__*/_jsx(FaBox,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Aucune image\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-badges\",children:[product.estNouveau&&/*#__PURE__*/_jsx(\"span\",{className:\"badge new\",children:\"Nouveau\"}),product.estEnPromotion&&/*#__PURE__*/_jsx(\"span\",{className:\"badge promo\",children:\"Promo\"}),product.estPopulaire&&/*#__PURE__*/_jsx(\"span\",{className:\"badge popular\",children:\"Populaire\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-name\",children:product.nom}),/*#__PURE__*/_jsx(\"p\",{className:\"product-brand\",children:formatBrand(product.marque)}),/*#__PURE__*/_jsx(\"p\",{className:\"product-category\",children:product.categorie}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-pricing\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"current-price\",children:[product.prix,\"\\u20AC\"]}),product.prixReduit&&product.prixReduit<product.prix&&/*#__PURE__*/_jsxs(\"span\",{className:\"original-price\",children:[product.prixReduit,\"\\u20AC\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-stock\",children:/*#__PURE__*/_jsx(\"span\",{className:\"stock-indicator \".concat(totalStock>0?'in-stock':'out-of-stock'),children:totalStock>0?\"\".concat(totalStock,\" en stock\"):'Rupture de stock'})}),product.tailles&&product.tailles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-sizes\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sizes-label\",children:\"Tailles disponibles:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sizes-list\",children:product.tailles.filter(taille=>taille.stock>0).map(taille=>/*#__PURE__*/_jsxs(\"span\",{className:\"size-tag\",children:[taille.nom,\" (\",taille.stock,\")\"]},taille.nom))})]}),product.couleurs&&product.couleurs.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"product-colors\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"colors-label\",children:\"Couleurs:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"colors-list\",children:[product.couleurs.slice(0,5).map((couleur,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"color-dot\",style:{backgroundColor:couleur.code},title:couleur.nom},index)),product.couleurs.length>5&&/*#__PURE__*/_jsxs(\"span\",{className:\"more-colors\",children:[\"+\",product.couleurs.length-5]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon edit\",title:\"Modifier le produit\",children:/*#__PURE__*/_jsx(FaEdit,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon view\",title:\"Voir les d\\xE9tails\",children:/*#__PURE__*/_jsx(FaEye,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon delete\",title:\"Supprimer le produit\",children:/*#__PURE__*/_jsx(FaTrash,{})})]})]},product._id);})})]});};// Onglet Commandes\nconst OrdersTab=_ref3=>{let{orders}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"orders-tab\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gestion des commandes\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",(orders===null||orders===void 0?void 0:orders.length)||0,\" commandes\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"orders-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"N\\xB0 Commande\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Client\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Statut\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(orders||[]).map(order=>{var _order$_id,_order$utilisateur,_order$utilisateur2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\"#\",((_order$_id=order._id)===null||_order$_id===void 0?void 0:_order$_id.slice(-6))||'N/A']}),/*#__PURE__*/_jsxs(\"td\",{children:[(_order$utilisateur=order.utilisateur)===null||_order$utilisateur===void 0?void 0:_order$utilisateur.nom,\" \",(_order$utilisateur2=order.utilisateur)===null||_order$utilisateur2===void 0?void 0:_order$utilisateur2.prenom]}),/*#__PURE__*/_jsxs(\"td\",{children:[order.total,\"\\u20AC\"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge \".concat(order.statut),children:order.statut})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",title:\"Voir d\\xE9tails\",children:/*#__PURE__*/_jsx(FaEye,{})})})})]},order._id);})})]})})]});};// Onglet Utilisateurs\nconst UsersTab=_ref4=>{let{users,pagination}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"users-tab\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gestion des utilisateurs\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",(pagination===null||pagination===void 0?void 0:pagination.total)||0,\" utilisateurs\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"users-table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"R\\xF4le\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:(users||[]).map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[user.nom,\" \",user.prenom]}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"role-badge \".concat(user.role),children:user.role==='admin'?'Administrateur':'Client'})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",title:\"Voir d\\xE9tails\",children:/*#__PURE__*/_jsx(FaEye,{})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon delete\",title:\"Supprimer\",children:/*#__PURE__*/_jsx(FaTrash,{})})]})})]},user._id))})]})})]});};// Onglet Paramètres\nconst SettingsTab=()=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"settings-tab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tab-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Param\\xE8tres de la boutique\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"setting-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Informations g\\xE9n\\xE9rales\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Configuration des informations de base de votre boutique\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Livraison\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Gestion des frais de livraison et zones de livraison\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Paiement\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Configuration des m\\xE9thodes de paiement accept\\xE9es\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"setting-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Notifications\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Gestion des emails et notifications automatiques\"})]})]})]});};// Composant formulaire d'ajout de produit\nconst AddProductForm=_ref5=>{let{onClose,onProductAdded}=_ref5;const[formData,setFormData]=useState({nom:'',description:'',prix:'',prixReduit:'',categorie:'',sousCategorie:'',marque:'',materiau:'',entretien:'',estEnPromotion:false,estNouveau:false,estPopulaire:false,tags:[]});const[tailles,setTailles]=useState([{nom:'XS',stock:0},{nom:'S',stock:0},{nom:'M',stock:0},{nom:'L',stock:0},{nom:'XL',stock:0},{nom:'XXL',stock:0}]);const[couleurs,setCouleurs]=useState([{nom:'Noir',code:'#000000'},{nom:'Blanc',code:'#FFFFFF'},{nom:'Rouge',code:'#FF0000'},{nom:'Bleu',code:'#0000FF'},{nom:'Vert',code:'#00FF00'}]);const[images,setImages]=useState([]);const[imageFiles,setImageFiles]=useState([]);const[uploadingImages,setUploadingImages]=useState(false);const[loading,setLoading]=useState(false);const[errors,setErrors]=useState({});const categories=['hauts','bas','robes','vestes','chaussures','accessoires'];const handleChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));// Effacer l'erreur du champ modifié\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const handleTailleChange=(index,field,value)=>{const newTailles=[...tailles];newTailles[index]=_objectSpread(_objectSpread({},newTailles[index]),{},{[field]:value});setTailles(newTailles);};const handleCouleurChange=(index,field,value)=>{const newCouleurs=[...couleurs];newCouleurs[index]=_objectSpread(_objectSpread({},newCouleurs[index]),{},{[field]:value});setCouleurs(newCouleurs);};const addCouleur=()=>{setCouleurs([...couleurs,{nom:'',code:'#000000'}]);};const removeCouleur=index=>{setCouleurs(couleurs.filter((_,i)=>i!==index));};const handleImageUpload=e=>{const files=Array.from(e.target.files);const validFiles=files.filter(file=>{const isValidType=file.type.startsWith('image/');const isValidSize=file.size<=5*1024*1024;// 5MB max\nreturn isValidType&&isValidSize;});if(validFiles.length!==files.length){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{images:'Seules les images de moins de 5MB sont acceptées'}));}setImageFiles(prev=>[...prev,...validFiles]);// Créer des URLs de prévisualisation\nvalidFiles.forEach(file=>{const reader=new FileReader();reader.onload=e=>{setImages(prev=>[...prev,{file,preview:e.target.result,name:file.name}]);};reader.readAsDataURL(file);});};const removeImage=index=>{setImages(prev=>prev.filter((_,i)=>i!==index));setImageFiles(prev=>prev.filter((_,i)=>i!==index));};const uploadImages=async()=>{if(imageFiles.length===0)return[];setUploadingImages(true);const uploadedImages=[];try{// Upload toutes les images en une seule fois\nconst formData=new FormData();imageFiles.forEach(file=>{formData.append('images',file);});const response=await fetch('/api/upload/product-images',{method:'POST',headers:{'x-auth-token':localStorage.getItem('token')},body:formData});if(response.ok){const result=await response.json();uploadedImages.push(...result.images.map(img=>img.url));}else{const error=await response.json();throw new Error(error.message||'Erreur lors du chargement des images');}}catch(error){console.error('Erreur upload images:',error);setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{images:error.message||'Erreur lors du chargement des images'}));}finally{setUploadingImages(false);}return uploadedImages;};const validateForm=()=>{const newErrors={};if(!formData.nom.trim())newErrors.nom='Le nom est requis';if(!formData.description.trim())newErrors.description='La description est requise';if(!formData.prix||formData.prix<=0)newErrors.prix='Le prix doit être supérieur à 0';if(!formData.categorie)newErrors.categorie='La catégorie est requise';if(!formData.marque.trim())newErrors.marque='La marque est requise';// Vérifier qu'au moins une taille a du stock\nconst hasStock=tailles.some(taille=>taille.stock>0);if(!hasStock)newErrors.stock='Au moins une taille doit avoir du stock';setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{// Upload des images d'abord\nconst uploadedImages=await uploadImages();const productData=_objectSpread(_objectSpread({},formData),{},{prix:parseFloat(formData.prix),prixReduit:formData.prixReduit?parseFloat(formData.prixReduit):null,tailles:tailles.filter(taille=>taille.stock>0),// Seulement les tailles avec stock\ncouleurs:couleurs.filter(couleur=>couleur.nom.trim()!==''),// Seulement les couleurs nommées\nimages:uploadedImages.map(url=>({url:url,alt:formData.nom||'Image produit'}))// Convertir les URLs en objets avec url et alt\n});const response=await fetch('/api/products',{method:'POST',headers:{'Content-Type':'application/json','x-auth-token':localStorage.getItem('token')},body:JSON.stringify(productData)});if(response.ok){const newProduct=await response.json();onProductAdded(newProduct);// Reset form\nsetFormData({nom:'',description:'',prix:'',prixReduit:'',categorie:'',sousCategorie:'',marque:'',materiau:'',entretien:'',estEnPromotion:false,estNouveau:false,estPopulaire:false,tags:[]});setTailles(tailles.map(t=>_objectSpread(_objectSpread({},t),{},{stock:0})));setCouleurs([{nom:'Noir',code:'#000000'},{nom:'Blanc',code:'#FFFFFF'},{nom:'Rouge',code:'#FF0000'},{nom:'Bleu',code:'#0000FF'},{nom:'Vert',code:'#00FF00'}]);setImages([]);setImageFiles([]);}else{const error=await response.json();setErrors({submit:error.message||'Erreur lors de l\\'ajout du produit'});}}catch(error){setErrors({submit:'Erreur de connexion'});}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-product-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ajouter un nouveau produit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"close-btn\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"product-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Informations g\\xE9n\\xE9rales\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom du produit *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nom\",value:formData.nom,onChange:handleChange,className:errors.nom?'error':'',placeholder:\"Ex: T-shirt Premium\"}),errors.nom&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.nom})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Marque *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"marque\",value:formData.marque,onChange:handleChange,className:errors.marque?'error':'',placeholder:\"Ex: Nike, Adidas...\"}),errors.marque&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.marque})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleChange,className:errors.description?'error':'',placeholder:\"Description d\\xE9taill\\xE9e du produit...\",rows:\"3\"}),errors.description&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Prix (\\u20AC) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"prix\",value:formData.prix,onChange:handleChange,className:errors.prix?'error':'',placeholder:\"29.99\",step:\"0.01\",min:\"0\"}),errors.prix&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.prix})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Prix r\\xE9duit (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"prixReduit\",value:formData.prixReduit,onChange:handleChange,placeholder:\"19.99\",step:\"0.01\",min:\"0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cat\\xE9gorie *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"categorie\",value:formData.categorie,onChange:handleChange,className:errors.categorie?'error':'',children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner une cat\\xE9gorie\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]}),errors.categorie&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.categorie})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Sous-cat\\xE9gorie\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"sousCategorie\",value:formData.sousCategorie,onChange:handleChange,placeholder:\"Ex: T-shirts, Jeans...\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Tailles et stock\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tailles-grid\",children:tailles.map((taille,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"taille-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:taille.nom}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:taille.stock,onChange:e=>handleTailleChange(index,'stock',parseInt(e.target.value)||0),min:\"0\",placeholder:\"0\"})]},index))}),errors.stock&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.stock})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Couleurs disponibles\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"couleurs-list\",children:[couleurs.map((couleur,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"couleur-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:couleur.nom,onChange:e=>handleCouleurChange(index,'nom',e.target.value),placeholder:\"Nom de la couleur\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:couleur.code,onChange:e=>handleCouleurChange(index,'code',e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeCouleur(index),className:\"remove-btn\",children:\"\\xD7\"})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addCouleur,className:\"add-couleur-btn\",children:\"+ Ajouter une couleur\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Images du produit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-zone\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"image-upload\",multiple:true,accept:\"image/*\",onChange:handleImageUpload,style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"image-upload\",className:\"upload-label\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\uD83D\\uDCF7\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cliquez pour ajouter des images\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Formats accept\\xE9s: JPG, PNG, GIF (max 5MB)\"})]})]}),images.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"image-preview-grid\",children:images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-preview-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.preview,alt:\"Preview \".concat(index+1)}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-overlay\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"image-name\",children:image.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeImage(index),className:\"remove-image-btn\",title:\"Supprimer l'image\",children:\"\\xD7\"})]})]},index))}),errors.images&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.images}),uploadingImages&&/*#__PURE__*/_jsx(\"div\",{className:\"upload-progress\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Chargement des images en cours...\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"D\\xE9tails suppl\\xE9mentaires\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mat\\xE9riau\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"materiau\",value:formData.materiau,onChange:handleChange,placeholder:\"Ex: 100% Coton\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Entretien\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"entretien\",value:formData.entretien,onChange:handleChange,placeholder:\"Ex: Lavage \\xE0 30\\xB0C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkboxes\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"estEnPromotion\",checked:formData.estEnPromotion,onChange:handleChange}),\"En promotion\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"estNouveau\",checked:formData.estNouveau,onChange:handleChange}),\"Nouveau produit\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"estPopulaire\",checked:formData.estPopulaire,onChange:handleChange}),\"Produit populaire\"]})]})]}),errors.submit&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message submit-error\",children:errors.submit}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-secondary\",children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Ajout en cours...':'Ajouter le produit'})]})]})]});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","FaPlus","FaEdit","FaTrash","FaEye","FaUsers","FaBox","FaShoppingCart","FaChartLine","FaCog","FaSignOutAlt","toast","useAuth","formatBrand","jsx","_jsx","jsxs","_jsxs","Admin","activeTab","setActiveTab","loading","setLoading","stats","setStats","products","setProducts","orders","setOrders","users","setUsers","usersPagination","setUsersPagination","page","limit","total","pages","usersSearch","setUsersSearch","usersRoleFilter","setUsersRoleFilter","user","logout","navigate","role","fetchDashboardData","handleLogout","window","confirm","success","fetchUsers","statsResponse","fetch","headers","localStorage","getItem","ok","statsData","json","productsResponse","productsData","ordersResponse","ordersData","error","arguments","length","undefined","search","params","URLSearchParams","toString","append","response","concat","data","utilisateurs","pagination","className","children","to","onClick","DashboardTab","ProductsTab","onProductAdded","newProduct","prev","OrdersTab","UsersTab","SettingsTab","_ref","totalUsers","totalProducts","totalOrders","chiffreAffaires","_ref2","showAddForm","setShowAddForm","AddProductForm","onClose","map","product","totalStock","tailles","reduce","taille","stock","mainImage","images","url","src","alt","nom","onError","e","target","style","display","nextSibling","estNouveau","estEnPromotion","estPopulaire","marque","categorie","prix","prixReduit","filter","couleurs","slice","couleur","index","backgroundColor","code","title","_id","_ref3","order","_order$_id","_order$utilisateur","_order$utilisateur2","utilisateur","prenom","statut","_ref4","email","_ref5","formData","setFormData","description","sousCategorie","materiau","entretien","tags","setTailles","setCouleurs","setImages","imageFiles","setImageFiles","uploadingImages","setUploadingImages","errors","setErrors","categories","handleChange","name","value","type","checked","_objectSpread","handleTailleChange","field","newTailles","handleCouleurChange","newCouleurs","addCouleur","removeCouleur","_","i","handleImageUpload","files","Array","from","validFiles","file","isValidType","startsWith","isValidSize","size","forEach","reader","FileReader","onload","preview","result","readAsDataURL","removeImage","uploadImages","uploadedImages","FormData","method","body","push","img","Error","message","console","validateForm","newErrors","trim","hasStock","some","Object","keys","handleSubmit","preventDefault","productData","parseFloat","JSON","stringify","t","submit","onSubmit","onChange","placeholder","rows","step","min","cat","parseInt","id","multiple","accept","htmlFor","image","disabled"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/client/src/pages/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { FaPlus, FaEdit, FaTrash, FaEye, FaUsers, FaBox, FaShoppingCart, FaChartLine, FaCog, FaSignOutAlt } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport { useAuth } from '../contexts/AuthContext';\nimport { formatBrand } from '../utils/formatUtils';\nimport '../styles/Admin.css';\n\nconst Admin = () => {\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({});\n  const [products, setProducts] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [usersPagination, setUsersPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    pages: 0\n  });\n  const [usersSearch, setUsersSearch] = useState('');\n  const [usersRoleFilter, setUsersRoleFilter] = useState('');\n\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (user && user.role === 'admin') {\n      fetchDashboardData();\n    }\n  }, [user]);\n\n  const handleLogout = () => {\n    if (window.confirm('Êtes-vous sûr de vouloir vous déconnecter ?')) {\n      logout();\n      navigate('/');\n      toast.success('Déconnexion réussie');\n    }\n  };\n\n  // Charger les utilisateurs quand on clique sur l'onglet Utilisateurs\n  useEffect(() => {\n    if (activeTab === 'users' && user && user.role === 'admin') {\n      fetchUsers(1, 20, '', '');\n    }\n  }, [activeTab, user]);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      // Charger les statistiques\n      const statsResponse = await fetch('/api/admin/stats', {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      \n      if (statsResponse.ok) {\n        const statsData = await statsResponse.json();\n        setStats(statsData);\n      }\n\n      // Charger les produits\n      const productsResponse = await fetch('/api/products?limit=10', {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      \n      if (productsResponse.ok) {\n        const productsData = await productsResponse.json();\n        setProducts(productsData.products || []);\n      }\n\n      // Charger les commandes récentes\n      const ordersResponse = await fetch('/api/orders?limit=10', {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      \n      if (ordersResponse.ok) {\n        const ordersData = await ordersResponse.json();\n        setOrders(ordersData.orders);\n      }\n\n      // Charger les utilisateurs récents pour le dashboard\n      await fetchUsers(1, 10);\n\n    } catch (error) {\n      toast.error('Erreur lors du chargement des données');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchUsers = async (page = 1, limit = 20, search = '', role = '') => {\n    try {\n      const params = new URLSearchParams({\n        page: page.toString(),\n        limit: limit.toString()\n      });\n      \n      if (search) params.append('recherche', search);\n      if (role) params.append('role', role);\n\n      const response = await fetch(`/api/users/admin/tous?${params}`, {\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setUsers(data.utilisateurs);\n        setUsersPagination(data.pagination);\n      } else {\n        toast.error('Erreur lors du chargement des utilisateurs');\n      }\n    } catch (error) {\n      toast.error('Erreur lors du chargement des utilisateurs');\n    }\n  };\n\n\n  if (!user || user.role !== 'admin') {\n    return (\n      <div className=\"admin-page\">\n        <div className=\"admin-container\">\n          <div className=\"access-denied\">\n            <h1>Accès refusé</h1>\n            <p>Vous n'avez pas les permissions nécessaires pour accéder à cette page.</p>\n            <Link to=\"/\" className=\"btn-primary\">\n              Retour à l'accueil\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"loading-spinner\"></div>\n        <p>Chargement du tableau de bord...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-page\">\n      <div className=\"admin-layout\">\n        {/* Sidebar */}\n        <div className=\"admin-sidebar\">\n          <div className=\"sidebar-header\">\n            <h2>Administration</h2>\n            <p>SHADOWHOOD</p>\n          </div>\n          \n          <nav className=\"sidebar-nav\">\n            <button\n              className={`sidebar-item ${activeTab === 'dashboard' ? 'active' : ''}`}\n              onClick={() => setActiveTab('dashboard')}\n            >\n              <FaChartLine className=\"sidebar-icon\" />\n              <span>Tableau de bord</span>\n            </button>\n            \n            <button\n              className={`sidebar-item ${activeTab === 'products' ? 'active' : ''}`}\n              onClick={() => setActiveTab('products')}\n            >\n              <FaBox className=\"sidebar-icon\" />\n              <span>Produits</span>\n            </button>\n            \n            <button\n              className={`sidebar-item ${activeTab === 'orders' ? 'active' : ''}`}\n              onClick={() => setActiveTab('orders')}\n            >\n              <FaShoppingCart className=\"sidebar-icon\" />\n              <span>Commandes</span>\n            </button>\n            \n            <button\n              className={`sidebar-item ${activeTab === 'users' ? 'active' : ''}`}\n              onClick={() => setActiveTab('users')}\n            >\n              <FaUsers className=\"sidebar-icon\" />\n              <span>Utilisateurs</span>\n            </button>\n            \n            <button\n              className={`sidebar-item ${activeTab === 'settings' ? 'active' : ''}`}\n              onClick={() => setActiveTab('settings')}\n            >\n              <FaCog className=\"sidebar-icon\" />\n              <span>Paramètres</span>\n            </button>\n          </nav>\n          \n          {/* Bouton de déconnexion */}\n          <div className=\"sidebar-footer\">\n            <button\n              className=\"sidebar-item logout-btn\"\n              onClick={handleLogout}\n            >\n              <FaSignOutAlt className=\"sidebar-icon\" />\n              <span>Déconnexion</span>\n            </button>\n          </div>\n        </div>\n\n        {/* Contenu principal */}\n        <div className=\"admin-main\">\n          <div className=\"admin-content\">\n          {activeTab === 'dashboard' && (\n            <DashboardTab stats={stats} />\n          )}\n          \n          {activeTab === 'products' && (\n            <ProductsTab \n              products={products} \n              onProductAdded={(newProduct) => {\n                setProducts(prev => [...(prev || []), newProduct]);\n              }}\n            />\n          )}\n          \n          {activeTab === 'orders' && (\n            <OrdersTab orders={orders} />\n          )}\n          \n          {activeTab === 'users' && (\n            <UsersTab \n              users={users}\n              pagination={usersPagination}\n            />\n          )}\n          \n          {activeTab === 'settings' && (\n            <SettingsTab />\n          )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Onglet Tableau de bord\nconst DashboardTab = ({ stats }) => {\n  return (\n    <div className=\"dashboard-tab\">\n      <div className=\"simple-stats\">\n        <h2>Statistiques de la boutique</h2>\n        \n        <div className=\"stats-grid\">\n          <div className=\"stat-card\">\n            <FaUsers className=\"stat-icon\" />\n            <div className=\"stat-content\">\n              <h3>{stats.totalUsers || 0}</h3>\n              <p>Utilisateurs</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <FaBox className=\"stat-icon\" />\n            <div className=\"stat-content\">\n              <h3>{stats.totalProducts || 0}</h3>\n              <p>Produits</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <FaShoppingCart className=\"stat-icon\" />\n            <div className=\"stat-content\">\n              <h3>{stats.totalOrders || 0}</h3>\n              <p>Commandes</p>\n            </div>\n          </div>\n\n          <div className=\"stat-card\">\n            <FaChartLine className=\"stat-icon\" />\n            <div className=\"stat-content\">\n              <h3>{stats.chiffreAffaires || 0}€</h3>\n              <p>Chiffre d'affaires</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Onglet Produits\nconst ProductsTab = ({ products, onProductAdded }) => {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  return (\n    <div className=\"products-tab\">\n      <div className=\"tab-header\">\n        <h2>Gestion des produits</h2>\n        <div className=\"header-actions\">\n          <p>Total: {products?.length || 0} produits</p>\n          <button \n            className=\"btn-primary\"\n            onClick={() => setShowAddForm(true)}\n          >\n            <FaPlus />\n            Ajouter un produit\n          </button>\n        </div>\n      </div>\n\n      {showAddForm && (\n        <AddProductForm \n          onClose={() => setShowAddForm(false)}\n          onProductAdded={(newProduct) => {\n            onProductAdded(newProduct);\n            setShowAddForm(false);\n          }}\n        />\n      )}\n\n      <div className=\"products-grid\">\n        {(products || []).map(product => {\n          const totalStock = product.tailles ? \n            product.tailles.reduce((total, taille) => total + (taille.stock || 0), 0) \n            : 0;\n          const mainImage = product.images && product.images.length > 0 ? product.images[0].url : null;\n          \n          return (\n            <div key={product._id} className=\"product-card\">\n              <div className=\"product-image\">\n                {mainImage ? (\n                  <img \n                    src={mainImage} \n                    alt={product.images[0].alt || product.nom}\n                    onError={(e) => {\n                      e.target.style.display = 'none';\n                      e.target.nextSibling.style.display = 'flex';\n                    }}\n                  />\n                ) : null}\n                <div className=\"no-image\" style={{ display: mainImage ? 'none' : 'flex' }}>\n                  <FaBox />\n                  <span>Aucune image</span>\n                </div>\n                <div className=\"product-badges\">\n                  {product.estNouveau && <span className=\"badge new\">Nouveau</span>}\n                  {product.estEnPromotion && <span className=\"badge promo\">Promo</span>}\n                  {product.estPopulaire && <span className=\"badge popular\">Populaire</span>}\n                </div>\n              </div>\n              \n              <div className=\"product-info\">\n                <h3 className=\"product-name\">{product.nom}</h3>\n                <p className=\"product-brand\">{formatBrand(product.marque)}</p>\n                <p className=\"product-category\">{product.categorie}</p>\n                \n                <div className=\"product-pricing\">\n                  <span className=\"current-price\">{product.prix}€</span>\n                  {product.prixReduit && product.prixReduit < product.prix && (\n                    <span className=\"original-price\">{product.prixReduit}€</span>\n                  )}\n                </div>\n                \n                <div className=\"product-stock\">\n                  <span className={`stock-indicator ${totalStock > 0 ? 'in-stock' : 'out-of-stock'}`}>\n                    {totalStock > 0 ? `${totalStock} en stock` : 'Rupture de stock'}\n                  </span>\n                </div>\n                \n                {product.tailles && product.tailles.length > 0 && (\n                  <div className=\"product-sizes\">\n                    <span className=\"sizes-label\">Tailles disponibles:</span>\n                    <div className=\"sizes-list\">\n                      {product.tailles\n                        .filter(taille => taille.stock > 0)\n                        .map(taille => (\n                          <span key={taille.nom} className=\"size-tag\">\n                            {taille.nom} ({taille.stock})\n                          </span>\n                        ))\n                      }\n                    </div>\n                  </div>\n                )}\n                \n                {product.couleurs && product.couleurs.length > 0 && (\n                  <div className=\"product-colors\">\n                    <span className=\"colors-label\">Couleurs:</span>\n                    <div className=\"colors-list\">\n                      {product.couleurs.slice(0, 5).map((couleur, index) => (\n                        <div \n                          key={index}\n                          className=\"color-dot\" \n                          style={{ backgroundColor: couleur.code }}\n                          title={couleur.nom}\n                        />\n                      ))}\n                      {product.couleurs.length > 5 && (\n                        <span className=\"more-colors\">+{product.couleurs.length - 5}</span>\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"product-actions\">\n                <button className=\"btn-icon edit\" title=\"Modifier le produit\">\n                  <FaEdit />\n                </button>\n                <button className=\"btn-icon view\" title=\"Voir les détails\">\n                  <FaEye />\n                </button>\n                <button className=\"btn-icon delete\" title=\"Supprimer le produit\">\n                  <FaTrash />\n                </button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\n// Onglet Commandes\nconst OrdersTab = ({ orders }) => {\n  return (\n    <div className=\"orders-tab\">\n      <div className=\"tab-header\">\n        <h2>Gestion des commandes</h2>\n        <p>Total: {orders?.length || 0} commandes</p>\n      </div>\n\n      <div className=\"orders-table\">\n        <table>\n          <thead>\n            <tr>\n              <th>N° Commande</th>\n              <th>Client</th>\n              <th>Total</th>\n              <th>Statut</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {(orders || []).map(order => (\n              <tr key={order._id}>\n                <td>#{order._id?.slice(-6) || 'N/A'}</td>\n                <td>{order.utilisateur?.nom} {order.utilisateur?.prenom}</td>\n                <td>{order.total}€</td>\n                <td>\n                  <span className={`status-badge ${order.statut}`}>\n                    {order.statut}\n                  </span>\n                </td>\n                <td>\n                  <div className=\"action-buttons\">\n                    <button className=\"btn-icon\" title=\"Voir détails\">\n                      <FaEye />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\n// Onglet Utilisateurs\nconst UsersTab = ({ users, pagination }) => {\n  return (\n    <div className=\"users-tab\">\n      <div className=\"tab-header\">\n        <h2>Gestion des utilisateurs</h2>\n        <p>Total: {pagination?.total || 0} utilisateurs</p>\n      </div>\n\n      <div className=\"users-table\">\n        <table>\n          <thead>\n            <tr>\n              <th>Nom</th>\n              <th>Email</th>\n              <th>Rôle</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {(users || []).map(user => (\n              <tr key={user._id}>\n                <td>{user.nom} {user.prenom}</td>\n                <td>{user.email}</td>\n                <td>\n                  <span className={`role-badge ${user.role}`}>\n                    {user.role === 'admin' ? 'Administrateur' : 'Client'}\n                  </span>\n                </td>\n                <td>\n                  <div className=\"action-buttons\">\n                    <button className=\"btn-icon\" title=\"Voir détails\">\n                      <FaEye />\n                    </button>\n                    <button className=\"btn-icon delete\" title=\"Supprimer\">\n                      <FaTrash />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\n// Onglet Paramètres\nconst SettingsTab = () => {\n  return (\n    <div className=\"settings-tab\">\n      <div className=\"tab-header\">\n        <h2>Paramètres de la boutique</h2>\n      </div>\n\n      <div className=\"settings-content\">\n        <div className=\"setting-group\">\n          <h3>Informations générales</h3>\n          <p>Configuration des informations de base de votre boutique</p>\n        </div>\n\n        <div className=\"setting-group\">\n          <h3>Livraison</h3>\n          <p>Gestion des frais de livraison et zones de livraison</p>\n        </div>\n\n        <div className=\"setting-group\">\n          <h3>Paiement</h3>\n          <p>Configuration des méthodes de paiement acceptées</p>\n        </div>\n\n        <div className=\"setting-group\">\n          <h3>Notifications</h3>\n          <p>Gestion des emails et notifications automatiques</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n\n// Composant formulaire d'ajout de produit\nconst AddProductForm = ({ onClose, onProductAdded }) => {\n  const [formData, setFormData] = useState({\n    nom: '',\n    description: '',\n    prix: '',\n    prixReduit: '',\n    categorie: '',\n    sousCategorie: '',\n    marque: '',\n    materiau: '',\n    entretien: '',\n    estEnPromotion: false,\n    estNouveau: false,\n    estPopulaire: false,\n    tags: []\n  });\n\n  const [tailles, setTailles] = useState([\n    { nom: 'XS', stock: 0 },\n    { nom: 'S', stock: 0 },\n    { nom: 'M', stock: 0 },\n    { nom: 'L', stock: 0 },\n    { nom: 'XL', stock: 0 },\n    { nom: 'XXL', stock: 0 }\n  ]);\n\n  const [couleurs, setCouleurs] = useState([\n    { nom: 'Noir', code: '#000000' },\n    { nom: 'Blanc', code: '#FFFFFF' },\n    { nom: 'Rouge', code: '#FF0000' },\n    { nom: 'Bleu', code: '#0000FF' },\n    { nom: 'Vert', code: '#00FF00' }\n  ]);\n\n  const [images, setImages] = useState([]);\n  const [imageFiles, setImageFiles] = useState([]);\n  const [uploadingImages, setUploadingImages] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  const categories = [\n    'hauts', 'bas', 'robes', 'vestes', 'chaussures', 'accessoires'\n  ];\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n    \n    // Effacer l'erreur du champ modifié\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: '' }));\n    }\n  };\n\n  const handleTailleChange = (index, field, value) => {\n    const newTailles = [...tailles];\n    newTailles[index] = { ...newTailles[index], [field]: value };\n    setTailles(newTailles);\n  };\n\n  const handleCouleurChange = (index, field, value) => {\n    const newCouleurs = [...couleurs];\n    newCouleurs[index] = { ...newCouleurs[index], [field]: value };\n    setCouleurs(newCouleurs);\n  };\n\n  const addCouleur = () => {\n    setCouleurs([...couleurs, { nom: '', code: '#000000' }]);\n  };\n\n  const removeCouleur = (index) => {\n    setCouleurs(couleurs.filter((_, i) => i !== index));\n  };\n\n  const handleImageUpload = (e) => {\n    const files = Array.from(e.target.files);\n    const validFiles = files.filter(file => {\n      const isValidType = file.type.startsWith('image/');\n      const isValidSize = file.size <= 5 * 1024 * 1024; // 5MB max\n      return isValidType && isValidSize;\n    });\n\n    if (validFiles.length !== files.length) {\n      setErrors(prev => ({ \n        ...prev, \n        images: 'Seules les images de moins de 5MB sont acceptées' \n      }));\n    }\n\n    setImageFiles(prev => [...prev, ...validFiles]);\n    \n    // Créer des URLs de prévisualisation\n    validFiles.forEach(file => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setImages(prev => [...prev, {\n          file,\n          preview: e.target.result,\n          name: file.name\n        }]);\n      };\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const removeImage = (index) => {\n    setImages(prev => prev.filter((_, i) => i !== index));\n    setImageFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const uploadImages = async () => {\n    if (imageFiles.length === 0) return [];\n\n    setUploadingImages(true);\n    const uploadedImages = [];\n\n    try {\n      // Upload toutes les images en une seule fois\n      const formData = new FormData();\n      imageFiles.forEach(file => {\n        formData.append('images', file);\n      });\n\n      const response = await fetch('/api/upload/product-images', {\n        method: 'POST',\n        headers: {\n          'x-auth-token': localStorage.getItem('token')\n        },\n        body: formData\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        uploadedImages.push(...result.images.map(img => img.url));\n      } else {\n        const error = await response.json();\n        throw new Error(error.message || 'Erreur lors du chargement des images');\n      }\n    } catch (error) {\n      console.error('Erreur upload images:', error);\n      setErrors(prev => ({ \n        ...prev, \n        images: error.message || 'Erreur lors du chargement des images' \n      }));\n    } finally {\n      setUploadingImages(false);\n    }\n\n    return uploadedImages;\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData.nom.trim()) newErrors.nom = 'Le nom est requis';\n    if (!formData.description.trim()) newErrors.description = 'La description est requise';\n    if (!formData.prix || formData.prix <= 0) newErrors.prix = 'Le prix doit être supérieur à 0';\n    if (!formData.categorie) newErrors.categorie = 'La catégorie est requise';\n    if (!formData.marque.trim()) newErrors.marque = 'La marque est requise';\n\n    // Vérifier qu'au moins une taille a du stock\n    const hasStock = tailles.some(taille => taille.stock > 0);\n    if (!hasStock) newErrors.stock = 'Au moins une taille doit avoir du stock';\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setLoading(true);\n    \n    try {\n      // Upload des images d'abord\n      const uploadedImages = await uploadImages();\n      \n      const productData = {\n        ...formData,\n        prix: parseFloat(formData.prix),\n        prixReduit: formData.prixReduit ? parseFloat(formData.prixReduit) : null,\n        tailles: tailles.filter(taille => taille.stock > 0), // Seulement les tailles avec stock\n        couleurs: couleurs.filter(couleur => couleur.nom.trim() !== ''), // Seulement les couleurs nommées\n        images: uploadedImages.map(url => ({\n          url: url,\n          alt: formData.nom || 'Image produit'\n        })) // Convertir les URLs en objets avec url et alt\n      };\n\n      const response = await fetch('/api/products', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': localStorage.getItem('token')\n        },\n        body: JSON.stringify(productData)\n      });\n\n      if (response.ok) {\n        const newProduct = await response.json();\n        onProductAdded(newProduct);\n        // Reset form\n        setFormData({\n          nom: '',\n          description: '',\n          prix: '',\n          prixReduit: '',\n          categorie: '',\n          sousCategorie: '',\n          marque: '',\n          materiau: '',\n          entretien: '',\n          estEnPromotion: false,\n          estNouveau: false,\n          estPopulaire: false,\n          tags: []\n        });\n        setTailles(tailles.map(t => ({ ...t, stock: 0 })));\n        setCouleurs([\n          { nom: 'Noir', code: '#000000' },\n          { nom: 'Blanc', code: '#FFFFFF' },\n          { nom: 'Rouge', code: '#FF0000' },\n          { nom: 'Bleu', code: '#0000FF' },\n          { nom: 'Vert', code: '#00FF00' }\n        ]);\n        setImages([]);\n        setImageFiles([]);\n      } else {\n        const error = await response.json();\n        setErrors({ submit: error.message || 'Erreur lors de l\\'ajout du produit' });\n      }\n    } catch (error) {\n      setErrors({ submit: 'Erreur de connexion' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"add-product-form\">\n      <div className=\"form-header\">\n        <h3>Ajouter un nouveau produit</h3>\n        <button onClick={onClose} className=\"close-btn\">×</button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"product-form\">\n        <div className=\"form-section\">\n          <h4>Informations générales</h4>\n          \n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Nom du produit *</label>\n              <input\n                type=\"text\"\n                name=\"nom\"\n                value={formData.nom}\n                onChange={handleChange}\n                className={errors.nom ? 'error' : ''}\n                placeholder=\"Ex: T-shirt Premium\"\n              />\n              {errors.nom && <span className=\"error-message\">{errors.nom}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label>Marque *</label>\n              <input\n                type=\"text\"\n                name=\"marque\"\n                value={formData.marque}\n                onChange={handleChange}\n                className={errors.marque ? 'error' : ''}\n                placeholder=\"Ex: Nike, Adidas...\"\n              />\n              {errors.marque && <span className=\"error-message\">{errors.marque}</span>}\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Description *</label>\n            <textarea\n              name=\"description\"\n              value={formData.description}\n              onChange={handleChange}\n              className={errors.description ? 'error' : ''}\n              placeholder=\"Description détaillée du produit...\"\n              rows=\"3\"\n            />\n            {errors.description && <span className=\"error-message\">{errors.description}</span>}\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Prix (€) *</label>\n              <input\n                type=\"number\"\n                name=\"prix\"\n                value={formData.prix}\n                onChange={handleChange}\n                className={errors.prix ? 'error' : ''}\n                placeholder=\"29.99\"\n                step=\"0.01\"\n                min=\"0\"\n              />\n              {errors.prix && <span className=\"error-message\">{errors.prix}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label>Prix réduit (€)</label>\n              <input\n                type=\"number\"\n                name=\"prixReduit\"\n                value={formData.prixReduit}\n                onChange={handleChange}\n                placeholder=\"19.99\"\n                step=\"0.01\"\n                min=\"0\"\n              />\n            </div>\n          </div>\n\n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Catégorie *</label>\n              <select\n                name=\"categorie\"\n                value={formData.categorie}\n                onChange={handleChange}\n                className={errors.categorie ? 'error' : ''}\n              >\n                <option value=\"\">Sélectionner une catégorie</option>\n                {categories.map(cat => (\n                  <option key={cat} value={cat}>{cat}</option>\n                ))}\n              </select>\n              {errors.categorie && <span className=\"error-message\">{errors.categorie}</span>}\n            </div>\n\n            <div className=\"form-group\">\n              <label>Sous-catégorie</label>\n              <input\n                type=\"text\"\n                name=\"sousCategorie\"\n                value={formData.sousCategorie}\n                onChange={handleChange}\n                placeholder=\"Ex: T-shirts, Jeans...\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h4>Tailles et stock</h4>\n          <div className=\"tailles-grid\">\n            {tailles.map((taille, index) => (\n              <div key={index} className=\"taille-item\">\n                <label>{taille.nom}</label>\n                <input\n                  type=\"number\"\n                  value={taille.stock}\n                  onChange={(e) => handleTailleChange(index, 'stock', parseInt(e.target.value) || 0)}\n                  min=\"0\"\n                  placeholder=\"0\"\n                />\n              </div>\n            ))}\n          </div>\n          {errors.stock && <span className=\"error-message\">{errors.stock}</span>}\n        </div>\n\n        <div className=\"form-section\">\n          <h4>Couleurs disponibles</h4>\n          <div className=\"couleurs-list\">\n            {couleurs.map((couleur, index) => (\n              <div key={index} className=\"couleur-item\">\n                <input\n                  type=\"text\"\n                  value={couleur.nom}\n                  onChange={(e) => handleCouleurChange(index, 'nom', e.target.value)}\n                  placeholder=\"Nom de la couleur\"\n                />\n                <input\n                  type=\"color\"\n                  value={couleur.code}\n                  onChange={(e) => handleCouleurChange(index, 'code', e.target.value)}\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => removeCouleur(index)}\n                  className=\"remove-btn\"\n                >\n                  ×\n                </button>\n              </div>\n            ))}\n            <button type=\"button\" onClick={addCouleur} className=\"add-couleur-btn\">\n              + Ajouter une couleur\n            </button>\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h4>Images du produit</h4>\n          \n          <div className=\"image-upload-area\">\n            <div className=\"upload-zone\">\n              <input\n                type=\"file\"\n                id=\"image-upload\"\n                multiple\n                accept=\"image/*\"\n                onChange={handleImageUpload}\n                style={{ display: 'none' }}\n              />\n              <label htmlFor=\"image-upload\" className=\"upload-label\">\n                <div className=\"upload-icon\">📷</div>\n                <p>Cliquez pour ajouter des images</p>\n                <small>Formats acceptés: JPG, PNG, GIF (max 5MB)</small>\n              </label>\n            </div>\n\n            {images.length > 0 && (\n              <div className=\"image-preview-grid\">\n                {images.map((image, index) => (\n                  <div key={index} className=\"image-preview-item\">\n                    <img src={image.preview} alt={`Preview ${index + 1}`} />\n                    <div className=\"image-overlay\">\n                      <span className=\"image-name\">{image.name}</span>\n                      <button\n                        type=\"button\"\n                        onClick={() => removeImage(index)}\n                        className=\"remove-image-btn\"\n                        title=\"Supprimer l'image\"\n                      >\n                        ×\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {errors.images && (\n              <span className=\"error-message\">{errors.images}</span>\n            )}\n\n            {uploadingImages && (\n              <div className=\"upload-progress\">\n                <p>Chargement des images en cours...</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"form-section\">\n          <h4>Détails supplémentaires</h4>\n          \n          <div className=\"form-row\">\n            <div className=\"form-group\">\n              <label>Matériau</label>\n              <input\n                type=\"text\"\n                name=\"materiau\"\n                value={formData.materiau}\n                onChange={handleChange}\n                placeholder=\"Ex: 100% Coton\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Entretien</label>\n              <input\n                type=\"text\"\n                name=\"entretien\"\n                value={formData.entretien}\n                onChange={handleChange}\n                placeholder=\"Ex: Lavage à 30°C\"\n              />\n            </div>\n          </div>\n\n          <div className=\"checkboxes\">\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                name=\"estEnPromotion\"\n                checked={formData.estEnPromotion}\n                onChange={handleChange}\n              />\n              En promotion\n            </label>\n\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                name=\"estNouveau\"\n                checked={formData.estNouveau}\n                onChange={handleChange}\n              />\n              Nouveau produit\n            </label>\n\n            <label className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                name=\"estPopulaire\"\n                checked={formData.estPopulaire}\n                onChange={handleChange}\n              />\n              Produit populaire\n            </label>\n          </div>\n        </div>\n\n        {errors.submit && (\n          <div className=\"error-message submit-error\">{errors.submit}</div>\n        )}\n\n        <div className=\"form-actions\">\n          <button type=\"button\" onClick={onClose} className=\"btn-secondary\">\n            Annuler\n          </button>\n          <button type=\"submit\" className=\"btn-primary\" disabled={loading}>\n            {loading ? 'Ajout en cours...' : 'Ajouter le produit'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Admin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}