{"ast":null,"code":"import _objectSpread from\"C:/Users/houda/OneDrive/Bureau/boutique-vetements/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{FaTrash,FaArrowLeft,FaLock,FaTruck,FaCreditCard,FaShieldAlt}from'react-icons/fa';import{toast}from'react-toastify';import{useCart}from'../contexts/CartContext';import{useAuth}from'../contexts/AuthContext';import'../styles/Cart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=()=>{const[loading,setLoading]=useState(true);const[updating,setUpdating]=useState(false);const[showCheckout,setShowCheckout]=useState(false);const{cart,updateQuantity,removeFromCart,clearCart,getTotal,getItemCount}=useCart();const{user}=useAuth();const navigate=useNavigate();useEffect(()=>{if(user){fetchCart();}else{setLoading(false);}},[user]);const fetchCart=async()=>{try{setLoading(true);// Cart is already loaded by the context, no need to fetch\n}catch(error){toast.error('Erreur lors du chargement du panier');}finally{setLoading(false);}};const handleQuantityChange=async(productId,newQuantity)=>{if(newQuantity<1)return;try{setUpdating(true);await updateQuantity(productId,newQuantity);await fetchCart();// Recharger le panier\ntoast.success('Quantité mise à jour');}catch(error){toast.error('Erreur lors de la mise à jour de la quantité');}finally{setUpdating(false);}};const handleRemoveItem=async productId=>{try{setUpdating(true);await removeFromCart(productId);await fetchCart();// Recharger le panier\ntoast.success('Produit retiré du panier');}catch(error){toast.error('Erreur lors de la suppression du produit');}finally{setUpdating(false);}};const handleClearCart=async()=>{if(window.confirm('Êtes-vous sûr de vouloir vider votre panier ?')){try{setUpdating(true);await clearCart();toast.success('Panier vidé');}catch(error){toast.error('Erreur lors du vidage du panier');}finally{setUpdating(false);}}};const handleCheckout=()=>{if(!user){toast.error('Veuillez vous connecter pour continuer');navigate('/login',{state:{from:'/cart'}});return;}setShowCheckout(true);};const handleContinueShopping=()=>{navigate('/products');};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement du panier...\"})]});}if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Mon Panier\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-required\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Connexion requise\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Veuillez vous connecter pour acc\\xE9der \\xE0 votre panier\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-buttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn-primary\",children:\"Se connecter\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn-secondary\",children:\"Cr\\xE9er un compte\"})]})]})]})});}if(cart.articles&&cart.articles.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Mon Panier\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"empty-cart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-cart-icon\",children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Votre panier est vide\"}),/*#__PURE__*/_jsx(\"p\",{children:\"D\\xE9couvrez nos produits et commencez vos achats\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleContinueShopping,className:\"btn-primary\",children:\"Continuer mes achats\"})]})]})});}const subtotal=getTotal();const shipping=subtotal>=50?0:5.99;const total=subtotal+shipping;const itemCount=getItemCount();return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mon Panier\"}),/*#__PURE__*/_jsxs(\"p\",{children:[itemCount,\" article(s) dans votre panier\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-items-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Produits\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleClearCart,className:\"clear-cart-btn\",disabled:updating,children:[/*#__PURE__*/_jsx(FaTrash,{}),\"Vider le panier\"]})]}),cart.articles&&cart.articles.map(item=>/*#__PURE__*/_jsx(CartItem,{item:item,onQuantityChange:handleQuantityChange,onRemove:handleRemoveItem,updating:updating},item._id))]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-summary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"summary-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"R\\xE9sum\\xE9 de la commande\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Sous-total (\",itemCount,\" article(s))\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[subtotal.toFixed(2),\"\\u20AC\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Frais de livraison\"}),/*#__PURE__*/_jsx(\"span\",{children:shipping===0?/*#__PURE__*/_jsx(\"span\",{className:\"free-shipping\",children:\"Gratuit\"}):\"\".concat(shipping.toFixed(2),\"\\u20AC\")})]}),shipping>0&&/*#__PURE__*/_jsx(\"div\",{className:\"shipping-info\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Livraison gratuite \\xE0 partir de 50\\u20AC d'achat\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[total.toFixed(2),\"\\u20AC\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleCheckout,className:\"checkout-btn\",disabled:updating,children:[/*#__PURE__*/_jsx(FaLock,{}),\"Passer la commande\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleContinueShopping,className:\"continue-shopping-btn\",children:[/*#__PURE__*/_jsx(FaArrowLeft,{}),\"Continuer mes achats\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"security-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"security-item\",children:[/*#__PURE__*/_jsx(FaShieldAlt,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Paiement s\\xE9curis\\xE9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"security-item\",children:[/*#__PURE__*/_jsx(FaTruck,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Livraison rapide\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"security-item\",children:[/*#__PURE__*/_jsx(FaCreditCard,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Retours gratuits\"})]})]})]})})]}),showCheckout&&/*#__PURE__*/_jsx(CheckoutSection,{cart:cart,total:total,shipping:shipping,onClose:()=>setShowCheckout(false),onSuccess:()=>{setShowCheckout(false);navigate('/orders');}})]})});};// Composant article du panier\nconst CartItem=_ref=>{let{item,onQuantityChange,onRemove,updating}=_ref;const[quantity,setQuantity]=useState(item.quantite);const handleQuantityChange=newQuantity=>{if(newQuantity>=1&&newQuantity<=10){setQuantity(newQuantity);onQuantityChange(item.produit._id,newQuantity);}};const handleRemove=()=>{onRemove(item.produit._id);};const price=item.prixUnitaire;const totalPrice=price*item.quantite;return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.produit.images[0]||'/placeholder-product.jpg',alt:item.produit.nom,onError:e=>{e.target.src='/placeholder-product.jpg';}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"item-name\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.produit._id),children:item.produit.nom})}),/*#__PURE__*/_jsx(\"p\",{className:\"item-brand\",children:item.produit.marque}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-options\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"option\",children:[\"Taille: \",item.taille]}),/*#__PURE__*/_jsxs(\"span\",{className:\"option\",children:[\"Couleur: \",item.couleur]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-price\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"unit-price\",children:[price.toFixed(2),\"\\u20AC\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"total-price\",children:[totalPrice.toFixed(2),\"\\u20AC\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-quantity\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"quantity-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(quantity-1),disabled:quantity<=1||updating,className:\"quantity-btn\",children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"quantity-display\",children:item.quantite}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(quantity+1),disabled:quantity>=10||updating,className:\"quantity-btn\",children:\"+\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRemove,disabled:updating,className:\"remove-item-btn\",title:\"Retirer du panier\",children:/*#__PURE__*/_jsx(FaTrash,{})})]})]});};// Composant de passage de commande\nconst CheckoutSection=_ref2=>{let{cart,total,shipping,onClose,onSuccess}=_ref2;const[formData,setFormData]=useState({adresseLivraison:{rue:'',ville:'',codePostal:'',pays:'France'},methodePaiement:'card',notes:''});const[loading,setLoading]=useState(false);const[errors,setErrors]=useState({});const handleChange=e=>{const{name,value}=e.target;if(name.includes('.')){const[parent,child]=name.split('.');setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[parent]:_objectSpread(_objectSpread({},prev[parent]),{},{[child]:value})}));}else{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));}// Effacer l'erreur du champ modifié\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const validateForm=()=>{const newErrors={};if(!formData.adresseLivraison.rue.trim()){newErrors['adresseLivraison.rue']='La rue est requise';}if(!formData.adresseLivraison.ville.trim()){newErrors['adresseLivraison.ville']='La ville est requise';}if(!formData.adresseLivraison.codePostal){newErrors['adresseLivraison.codePostal']='Le code postal est requis';}else if(!/^\\d{5}$/.test(formData.adresseLivraison.codePostal)){newErrors['adresseLivraison.codePostal']='Le code postal doit contenir 5 chiffres';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{const orderData={adresseLivraison:formData.adresseLivraison,methodePaiement:formData.methodePaiement,notes:formData.notes};const response=await fetch('/api/orders',{method:'POST',headers:{'Content-Type':'application/json','x-auth-token':localStorage.getItem('token')},body:JSON.stringify(orderData)});if(response.ok){toast.success('Commande passée avec succès !');onSuccess();}else{const error=await response.json();toast.error(error.message||'Erreur lors de la commande');}}catch(error){toast.error('Erreur de connexion');}finally{setLoading(false);}};const getFieldError=fieldName=>{return errors[fieldName]||'';};return/*#__PURE__*/_jsx(\"div\",{className:\"checkout-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Finaliser la commande\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"close-btn\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"checkout-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-sections\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Adresse de livraison\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"adresse.rue\",children:\"Rue *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"adresse.rue\",name:\"adresseLivraison.rue\",value:formData.adresseLivraison.rue,onChange:handleChange,placeholder:\"123 Rue de la Paix\",className:getFieldError('adresseLivraison.rue')?'error':''}),getFieldError('adresseLivraison.rue')&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:getFieldError('adresseLivraison.rue')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"adresse.codePostal\",children:\"Code postal *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"adresse.codePostal\",name:\"adresseLivraison.codePostal\",value:formData.adresseLivraison.codePostal,onChange:handleChange,placeholder:\"75001\",className:getFieldError('adresseLivraison.codePostal')?'error':''}),getFieldError('adresseLivraison.codePostal')&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:getFieldError('adresseLivraison.codePostal')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"adresse.ville\",children:\"Ville *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"adresse.ville\",name:\"adresseLivraison.ville\",value:formData.adresseLivraison.ville,onChange:handleChange,placeholder:\"Paris\",className:getFieldError('adresseLivraison.ville')?'error':''}),getFieldError('adresseLivraison.ville')&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:getFieldError('adresseLivraison.ville')})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"adresse.pays\",children:\"Pays\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"adresse.pays\",name:\"adresseLivraison.pays\",value:formData.adresseLivraison.pays,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"France\",children:\"France\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Belgique\",children:\"Belgique\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Suisse\",children:\"Suisse\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Canada\",children:\"Canada\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"M\\xE9thode de paiement\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-methods\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"payment-method\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"methodePaiement\",value:\"card\",checked:formData.methodePaiement==='card',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"method-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"method-name\",children:\"Carte bancaire\"}),/*#__PURE__*/_jsx(\"span\",{className:\"method-description\",children:\"Visa, Mastercard, American Express\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"payment-method\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"methodePaiement\",value:\"paypal\",checked:formData.methodePaiement==='paypal',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"method-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"method-name\",children:\"PayPal\"}),/*#__PURE__*/_jsx(\"span\",{className:\"method-description\",children:\"Paiement s\\xE9curis\\xE9 en ligne\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Notes de commande (optionnel)\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",value:formData.notes,onChange:handleChange,placeholder:\"Instructions sp\\xE9ciales, pr\\xE9f\\xE9rences de livraison...\",rows:\"3\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"R\\xE9sum\\xE9 de la commande\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sous-total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[(total-shipping).toFixed(2),\"\\u20AC\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Livraison\"}),/*#__PURE__*/_jsx(\"span\",{children:shipping===0?'Gratuit':\"\".concat(shipping.toFixed(2),\"\\u20AC\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[total.toFixed(2),\"\\u20AC\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"btn-secondary\",disabled:loading,children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'Traitement...':'Confirmer la commande'})]})]})]})});};export default Cart;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","FaTrash","FaArrowLeft","FaLock","FaTruck","FaCreditCard","FaShieldAlt","toast","useCart","useAuth","jsx","_jsx","jsxs","_jsxs","Cart","loading","setLoading","updating","setUpdating","showCheckout","setShowCheckout","cart","updateQuantity","removeFromCart","clearCart","getTotal","getItemCount","user","navigate","fetchCart","error","handleQuantityChange","productId","newQuantity","success","handleRemoveItem","handleClearCart","window","confirm","handleCheckout","state","from","handleContinueShopping","className","children","to","articles","length","onClick","subtotal","shipping","total","itemCount","disabled","map","item","CartItem","onQuantityChange","onRemove","_id","toFixed","concat","CheckoutSection","onClose","onSuccess","_ref","quantity","setQuantity","quantite","produit","handleRemove","price","prixUnitaire","totalPrice","src","images","alt","nom","onError","e","target","marque","taille","couleur","title","_ref2","formData","setFormData","adresseLivraison","rue","ville","codePostal","pays","methodePaiement","notes","errors","setErrors","handleChange","name","value","includes","parent","child","split","prev","_objectSpread","validateForm","newErrors","trim","test","Object","keys","handleSubmit","preventDefault","orderData","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","ok","json","message","getFieldError","fieldName","onSubmit","htmlFor","type","id","onChange","placeholder","checked","rows"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/client/src/pages/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { FaTrash, FaArrowLeft, FaLock, FaTruck, FaCreditCard, FaShieldAlt } from 'react-icons/fa';\r\nimport { toast } from 'react-toastify';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport '../styles/Cart.css';\r\n\r\nconst Cart = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [updating, setUpdating] = useState(false);\r\n  const [showCheckout, setShowCheckout] = useState(false);\r\n\r\n  const { \r\n    cart, \r\n    updateQuantity, \r\n    removeFromCart, \r\n    clearCart, \r\n    getTotal, \r\n    getItemCount \r\n  } = useCart();\r\n  \r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchCart();\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchCart = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // Cart is already loaded by the context, no need to fetch\r\n    } catch (error) {\r\n      toast.error('Erreur lors du chargement du panier');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleQuantityChange = async (productId, newQuantity) => {\r\n    if (newQuantity < 1) return;\r\n\r\n    try {\r\n      setUpdating(true);\r\n      await updateQuantity(productId, newQuantity);\r\n      await fetchCart(); // Recharger le panier\r\n      toast.success('Quantité mise à jour');\r\n    } catch (error) {\r\n      toast.error('Erreur lors de la mise à jour de la quantité');\r\n    } finally {\r\n      setUpdating(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveItem = async (productId) => {\r\n    try {\r\n      setUpdating(true);\r\n      await removeFromCart(productId);\r\n      await fetchCart(); // Recharger le panier\r\n      toast.success('Produit retiré du panier');\r\n    } catch (error) {\r\n      toast.error('Erreur lors de la suppression du produit');\r\n    } finally {\r\n      setUpdating(false);\r\n    }\r\n  };\r\n\r\n  const handleClearCart = async () => {\r\n    if (window.confirm('Êtes-vous sûr de vouloir vider votre panier ?')) {\r\n      try {\r\n        setUpdating(true);\r\n        await clearCart();\r\n        toast.success('Panier vidé');\r\n      } catch (error) {\r\n        toast.error('Erreur lors du vidage du panier');\r\n      } finally {\r\n        setUpdating(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCheckout = () => {\r\n    if (!user) {\r\n      toast.error('Veuillez vous connecter pour continuer');\r\n      navigate('/login', { state: { from: '/cart' } });\r\n      return;\r\n    }\r\n    setShowCheckout(true);\r\n  };\r\n\r\n  const handleContinueShopping = () => {\r\n    navigate('/products');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Chargement du panier...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"cart-page\">\r\n        <div className=\"cart-container\">\r\n          <div className=\"cart-header\">\r\n            <h1>Mon Panier</h1>\r\n          </div>\r\n          <div className=\"login-required\">\r\n            <h2>Connexion requise</h2>\r\n            <p>Veuillez vous connecter pour accéder à votre panier</p>\r\n            <div className=\"auth-buttons\">\r\n              <Link to=\"/login\" className=\"btn-primary\">\r\n                Se connecter\r\n              </Link>\r\n              <Link to=\"/register\" className=\"btn-secondary\">\r\n                Créer un compte\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (cart.articles && cart.articles.length === 0) {\r\n    return (\r\n      <div className=\"cart-page\">\r\n        <div className=\"cart-container\">\r\n          <div className=\"cart-header\">\r\n            <h1>Mon Panier</h1>\r\n          </div>\r\n          <div className=\"empty-cart\">\r\n            <div className=\"empty-cart-icon\">🛒</div>\r\n            <h2>Votre panier est vide</h2>\r\n            <p>Découvrez nos produits et commencez vos achats</p>\r\n            <button onClick={handleContinueShopping} className=\"btn-primary\">\r\n              Continuer mes achats\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const subtotal = getTotal();\r\n  const shipping = subtotal >= 50 ? 0 : 5.99;\r\n  const total = subtotal + shipping;\r\n  const itemCount = getItemCount();\r\n\r\n  return (\r\n    <div className=\"cart-page\">\r\n      <div className=\"cart-container\">\r\n        <div className=\"cart-header\">\r\n          <h1>Mon Panier</h1>\r\n          <p>{itemCount} article(s) dans votre panier</p>\r\n        </div>\r\n\r\n        <div className=\"cart-content\">\r\n          {/* Liste des produits */}\r\n          <div className=\"cart-items\">\r\n            <div className=\"cart-items-header\">\r\n              <h3>Produits</h3>\r\n              <button \r\n                onClick={handleClearCart}\r\n                className=\"clear-cart-btn\"\r\n                disabled={updating}\r\n              >\r\n                <FaTrash />\r\n                Vider le panier\r\n              </button>\r\n            </div>\r\n\r\n            {cart.articles && cart.articles.map((item) => (\r\n              <CartItem\r\n                key={item._id}\r\n                item={item}\r\n                onQuantityChange={handleQuantityChange}\r\n                onRemove={handleRemoveItem}\r\n                updating={updating}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Résumé et commande */}\r\n          <div className=\"cart-summary\">\r\n            <div className=\"summary-card\">\r\n              <h3>Résumé de la commande</h3>\r\n              \r\n              <div className=\"summary-details\">\r\n                <div className=\"summary-row\">\r\n                  <span>Sous-total ({itemCount} article(s))</span>\r\n                  <span>{subtotal.toFixed(2)}€</span>\r\n                </div>\r\n                \r\n                <div className=\"summary-row\">\r\n                  <span>Frais de livraison</span>\r\n                  <span>\r\n                    {shipping === 0 ? (\r\n                      <span className=\"free-shipping\">Gratuit</span>\r\n                    ) : (\r\n                      `${shipping.toFixed(2)}€`\r\n                    )}\r\n                  </span>\r\n                </div>\r\n                \r\n                {shipping > 0 && (\r\n                  <div className=\"shipping-info\">\r\n                    <small>\r\n                      Livraison gratuite à partir de 50€ d'achat\r\n                    </small>\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"summary-row total\">\r\n                  <span>Total</span>\r\n                  <span>{total.toFixed(2)}€</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"summary-actions\">\r\n                <button\r\n                  onClick={handleCheckout}\r\n                  className=\"checkout-btn\"\r\n                  disabled={updating}\r\n                >\r\n                  <FaLock />\r\n                  Passer la commande\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={handleContinueShopping}\r\n                  className=\"continue-shopping-btn\"\r\n                >\r\n                  <FaArrowLeft />\r\n                  Continuer mes achats\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"security-info\">\r\n                <div className=\"security-item\">\r\n                  <FaShieldAlt />\r\n                  <span>Paiement sécurisé</span>\r\n                </div>\r\n                <div className=\"security-item\">\r\n                  <FaTruck />\r\n                  <span>Livraison rapide</span>\r\n                </div>\r\n                <div className=\"security-item\">\r\n                  <FaCreditCard />\r\n                  <span>Retours gratuits</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Section de passage de commande */}\r\n        {showCheckout && (\r\n          <CheckoutSection\r\n            cart={cart}\r\n            total={total}\r\n            shipping={shipping}\r\n            onClose={() => setShowCheckout(false)}\r\n            onSuccess={() => {\r\n              setShowCheckout(false);\r\n              navigate('/orders');\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Composant article du panier\r\nconst CartItem = ({ item, onQuantityChange, onRemove, updating }) => {\r\n  const [quantity, setQuantity] = useState(item.quantite);\r\n\r\n  const handleQuantityChange = (newQuantity) => {\r\n    if (newQuantity >= 1 && newQuantity <= 10) {\r\n      setQuantity(newQuantity);\r\n      onQuantityChange(item.produit._id, newQuantity);\r\n    }\r\n  };\r\n\r\n  const handleRemove = () => {\r\n    onRemove(item.produit._id);\r\n  };\r\n\r\n  const price = item.prixUnitaire;\r\n  const totalPrice = price * item.quantite;\r\n\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <div className=\"item-image\">\r\n        <img \r\n          src={item.produit.images[0] || '/placeholder-product.jpg'} \r\n          alt={item.produit.nom}\r\n          onError={(e) => {\r\n            e.target.src = '/placeholder-product.jpg';\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"item-details\">\r\n        <div className=\"item-info\">\r\n          <h4 className=\"item-name\">\r\n            <Link to={`/product/${item.produit._id}`}>\r\n              {item.produit.nom}\r\n            </Link>\r\n          </h4>\r\n          <p className=\"item-brand\">{item.produit.marque}</p>\r\n          <div className=\"item-options\">\r\n            <span className=\"option\">Taille: {item.taille}</span>\r\n            <span className=\"option\">Couleur: {item.couleur}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"item-price\">\r\n          <span className=\"unit-price\">{price.toFixed(2)}€</span>\r\n          <span className=\"total-price\">{totalPrice.toFixed(2)}€</span>\r\n        </div>\r\n\r\n        <div className=\"item-quantity\">\r\n          <div className=\"quantity-controls\">\r\n            <button\r\n              onClick={() => handleQuantityChange(quantity - 1)}\r\n              disabled={quantity <= 1 || updating}\r\n              className=\"quantity-btn\"\r\n            >\r\n              -\r\n            </button>\r\n            <span className=\"quantity-display\">{item.quantite}</span>\r\n            <button\r\n              onClick={() => handleQuantityChange(quantity + 1)}\r\n              disabled={quantity >= 10 || updating}\r\n              className=\"quantity-btn\"\r\n            >\r\n              +\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          onClick={handleRemove}\r\n          disabled={updating}\r\n          className=\"remove-item-btn\"\r\n          title=\"Retirer du panier\"\r\n        >\r\n          <FaTrash />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Composant de passage de commande\r\nconst CheckoutSection = ({ cart, total, shipping, onClose, onSuccess }) => {\r\n  const [formData, setFormData] = useState({\r\n    adresseLivraison: {\r\n      rue: '',\r\n      ville: '',\r\n      codePostal: '',\r\n      pays: 'France'\r\n    },\r\n    methodePaiement: 'card',\r\n    notes: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    if (name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...prev[parent],\r\n          [child]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n    \r\n    // Effacer l'erreur du champ modifié\r\n    if (errors[name]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!formData.adresseLivraison.rue.trim()) {\r\n      newErrors['adresseLivraison.rue'] = 'La rue est requise';\r\n    }\r\n\r\n    if (!formData.adresseLivraison.ville.trim()) {\r\n      newErrors['adresseLivraison.ville'] = 'La ville est requise';\r\n    }\r\n\r\n    if (!formData.adresseLivraison.codePostal) {\r\n      newErrors['adresseLivraison.codePostal'] = 'Le code postal est requis';\r\n    } else if (!/^\\d{5}$/.test(formData.adresseLivraison.codePostal)) {\r\n      newErrors['adresseLivraison.codePostal'] = 'Le code postal doit contenir 5 chiffres';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const orderData = {\r\n        adresseLivraison: formData.adresseLivraison,\r\n        methodePaiement: formData.methodePaiement,\r\n        notes: formData.notes\r\n      };\r\n\r\n      const response = await fetch('/api/orders', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-auth-token': localStorage.getItem('token')\r\n        },\r\n        body: JSON.stringify(orderData)\r\n      });\r\n\r\n      if (response.ok) {\r\n        toast.success('Commande passée avec succès !');\r\n        onSuccess();\r\n      } else {\r\n        const error = await response.json();\r\n        toast.error(error.message || 'Erreur lors de la commande');\r\n      }\r\n    } catch (error) {\r\n      toast.error('Erreur de connexion');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getFieldError = (fieldName) => {\r\n    return errors[fieldName] || '';\r\n  };\r\n\r\n  return (\r\n    <div className=\"checkout-overlay\">\r\n      <div className=\"checkout-modal\">\r\n        <div className=\"checkout-header\">\r\n          <h2>Finaliser la commande</h2>\r\n          <button onClick={onClose} className=\"close-btn\">×</button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"checkout-form\">\r\n          <div className=\"checkout-sections\">\r\n            {/* Adresse de livraison */}\r\n            <div className=\"checkout-section\">\r\n              <h3>Adresse de livraison</h3>\r\n              \r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"adresse.rue\">Rue *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"adresse.rue\"\r\n                  name=\"adresseLivraison.rue\"\r\n                  value={formData.adresseLivraison.rue}\r\n                  onChange={handleChange}\r\n                  placeholder=\"123 Rue de la Paix\"\r\n                  className={getFieldError('adresseLivraison.rue') ? 'error' : ''}\r\n                />\r\n                {getFieldError('adresseLivraison.rue') && (\r\n                  <span className=\"error-message\">{getFieldError('adresseLivraison.rue')}</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"adresse.codePostal\">Code postal *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"adresse.codePostal\"\r\n                    name=\"adresseLivraison.codePostal\"\r\n                    value={formData.adresseLivraison.codePostal}\r\n                    onChange={handleChange}\r\n                    placeholder=\"75001\"\r\n                    className={getFieldError('adresseLivraison.codePostal') ? 'error' : ''}\r\n                  />\r\n                  {getFieldError('adresseLivraison.codePostal') && (\r\n                    <span className=\"error-message\">{getFieldError('adresseLivraison.codePostal')}</span>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"adresse.ville\">Ville *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"adresse.ville\"\r\n                    name=\"adresseLivraison.ville\"\r\n                    value={formData.adresseLivraison.ville}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Paris\"\r\n                    className={getFieldError('adresseLivraison.ville') ? 'error' : ''}\r\n                  />\r\n                  {getFieldError('adresseLivraison.ville') && (\r\n                    <span className=\"error-message\">{getFieldError('adresseLivraison.ville')}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"adresse.pays\">Pays</label>\r\n                <select\r\n                  id=\"adresse.pays\"\r\n                  name=\"adresseLivraison.pays\"\r\n                  value={formData.adresseLivraison.pays}\r\n                  onChange={handleChange}\r\n                >\r\n                  <option value=\"France\">France</option>\r\n                  <option value=\"Belgique\">Belgique</option>\r\n                  <option value=\"Suisse\">Suisse</option>\r\n                  <option value=\"Canada\">Canada</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Méthode de paiement */}\r\n            <div className=\"checkout-section\">\r\n              <h3>Méthode de paiement</h3>\r\n              \r\n              <div className=\"payment-methods\">\r\n                <label className=\"payment-method\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"methodePaiement\"\r\n                    value=\"card\"\r\n                    checked={formData.methodePaiement === 'card'}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <span className=\"checkmark\"></span>\r\n                  <div className=\"method-info\">\r\n                    <span className=\"method-name\">Carte bancaire</span>\r\n                    <span className=\"method-description\">Visa, Mastercard, American Express</span>\r\n                  </div>\r\n                </label>\r\n\r\n                <label className=\"payment-method\">\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"methodePaiement\"\r\n                    value=\"paypal\"\r\n                    checked={formData.methodePaiement === 'paypal'}\r\n                    onChange={handleChange}\r\n                  />\r\n                  <span className=\"checkmark\"></span>\r\n                  <div className=\"method-info\">\r\n                    <span className=\"method-name\">PayPal</span>\r\n                    <span className=\"method-description\">Paiement sécurisé en ligne</span>\r\n                  </div>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Notes */}\r\n            <div className=\"checkout-section\">\r\n              <h3>Notes de commande (optionnel)</h3>\r\n              <textarea\r\n                name=\"notes\"\r\n                value={formData.notes}\r\n                onChange={handleChange}\r\n                placeholder=\"Instructions spéciales, préférences de livraison...\"\r\n                rows=\"3\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Résumé final */}\r\n          <div className=\"checkout-summary\">\r\n            <h3>Résumé de la commande</h3>\r\n            <div className=\"summary-row\">\r\n              <span>Sous-total</span>\r\n              <span>{(total - shipping).toFixed(2)}€</span>\r\n            </div>\r\n            <div className=\"summary-row\">\r\n              <span>Livraison</span>\r\n              <span>{shipping === 0 ? 'Gratuit' : `${shipping.toFixed(2)}€`}</span>\r\n            </div>\r\n            <div className=\"summary-row total\">\r\n              <span>Total</span>\r\n              <span>{total.toFixed(2)}€</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"checkout-actions\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"btn-secondary\"\r\n              disabled={loading}\r\n            >\r\n              Annuler\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn-primary\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Traitement...' : 'Confirmer la commande'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}