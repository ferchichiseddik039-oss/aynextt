{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\houda\\\\OneDrive\\\\Bureau\\\\boutique-vetements\\\\client\\\\src\\\\components\\\\CustomHoodieDesigner.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { FaChevronLeft, FaChevronRight, FaUndo, FaCheck } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport api from '../config/axios';\nimport '../styles/CustomHoodieDesigner.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomHoodieDesigner = ({\n  product,\n  onAddToCart,\n  onClose\n}) => {\n  _s();\n  var _selectedLogo$taille, _selectedLogo$taille2, _customizationOptions2, _customizationOptions3, _customizationOptions4;\n  const [customizationOptions, setCustomizationOptions] = useState(null);\n  const [selectedColor, setSelectedColor] = useState(null);\n  const [selectedLogo, setSelectedLogo] = useState(null);\n  const [selectedPosition, setSelectedPosition] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [previewLoading, setPreviewLoading] = useState(false);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const [uploadedLogo, setUploadedLogo] = useState(null);\n  const [logoSize, setLogoSize] = useState(60);\n\n  // Refs pour le scrolling\n  const colorScrollRef = useRef(null);\n  const logoScrollRef = useRef(null);\n  const positionScrollRef = useRef(null);\n  useEffect(() => {\n    if (product && product.estPersonnalise && product.optionsPersonnalisation) {\n      var _product$optionsPerso, _product$optionsPerso2, _product$optionsPerso3, _product$optionsPerso4, _product$optionsPerso5, _product$optionsPerso6;\n      // Si les options sont déjà disponibles dans le produit, les utiliser directement\n      setCustomizationOptions(product.optionsPersonnalisation);\n\n      // Sélectionner les premières options par défaut\n      if (((_product$optionsPerso = product.optionsPersonnalisation) === null || _product$optionsPerso === void 0 ? void 0 : (_product$optionsPerso2 = _product$optionsPerso.couleursDisponibles) === null || _product$optionsPerso2 === void 0 ? void 0 : _product$optionsPerso2.length) > 0) {\n        setSelectedColor(product.optionsPersonnalisation.couleursDisponibles[0]);\n      }\n      if (((_product$optionsPerso3 = product.optionsPersonnalisation) === null || _product$optionsPerso3 === void 0 ? void 0 : (_product$optionsPerso4 = _product$optionsPerso3.logosDisponibles) === null || _product$optionsPerso4 === void 0 ? void 0 : _product$optionsPerso4.length) > 0) {\n        setSelectedLogo(product.optionsPersonnalisation.logosDisponibles[0]);\n      }\n      if (((_product$optionsPerso5 = product.optionsPersonnalisation) === null || _product$optionsPerso5 === void 0 ? void 0 : (_product$optionsPerso6 = _product$optionsPerso5.positionsLogo) === null || _product$optionsPerso6 === void 0 ? void 0 : _product$optionsPerso6.length) > 0) {\n        setSelectedPosition(product.optionsPersonnalisation.positionsLogo[0]);\n      }\n      setLoading(false);\n    } else if (product && product.estPersonnalise) {\n      // Sinon, charger les options via l'API\n      loadCustomizationOptions();\n    }\n  }, [product]);\n  const loadCustomizationOptions = async () => {\n    try {\n      var _response$data, _response$data$couleu, _response$data2, _response$data2$logos, _response$data3, _response$data3$posit;\n      setLoading(true);\n      const response = await api.get(`/api/products/${product._id}/options-personnalisation`);\n      setCustomizationOptions(response.data);\n\n      // Sélectionner les premières options par défaut\n      if (((_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$couleu = _response$data.couleursDisponibles) === null || _response$data$couleu === void 0 ? void 0 : _response$data$couleu.length) > 0) {\n        setSelectedColor(response.data.couleursDisponibles[0]);\n      }\n      if (((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$logos = _response$data2.logosDisponibles) === null || _response$data2$logos === void 0 ? void 0 : _response$data2$logos.length) > 0) {\n        setSelectedLogo(response.data.logosDisponibles[0]);\n      }\n      if (((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : (_response$data3$posit = _response$data3.positionsLogo) === null || _response$data3$posit === void 0 ? void 0 : _response$data3$posit.length) > 0) {\n        setSelectedPosition(response.data.positionsLogo[0]);\n      }\n    } catch (error) {\n      console.error('Erreur lors du chargement des options:', error);\n      toast.error('Erreur lors du chargement des options de personnalisation');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const generatePreview = async () => {\n    if (!selectedColor || !selectedLogo || !selectedPosition) {\n      toast.error('Veuillez sélectionner toutes les options');\n      return;\n    }\n    try {\n      setPreviewLoading(true);\n      const response = await api.post(`/api/products/${product._id}/preview-personnalise`, {\n        couleur: selectedColor.nom,\n        logo: selectedLogo.nom,\n        position: selectedPosition.nom\n      });\n      setPreviewUrl(response.data.previewUrl);\n      toast.success('Aperçu généré avec succès !');\n    } catch (error) {\n      console.error('Erreur lors de la génération de l\\'aperçu:', error);\n      toast.error('Erreur lors de la génération de l\\'aperçu');\n    } finally {\n      setPreviewLoading(false);\n    }\n  };\n  const handleAddToCart = () => {\n    if (!selectedColor || !selectedLogo || !selectedPosition) {\n      toast.error('Veuillez sélectionner toutes les options de personnalisation');\n      return;\n    }\n    const customProduct = {\n      ...product,\n      personnalisation: {\n        couleur: selectedColor,\n        logo: selectedLogo,\n        position: selectedPosition\n      }\n    };\n    onAddToCart(customProduct, 'M', selectedColor.nom);\n  };\n  const scrollLeft = ref => {\n    if (ref.current) {\n      ref.current.scrollBy({\n        left: -200,\n        behavior: 'smooth'\n      });\n    }\n  };\n  const scrollRight = ref => {\n    if (ref.current) {\n      ref.current.scrollBy({\n        left: 200,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  // Fonction pour générer les filtres CSS selon la couleur\n  const getColorFilter = colorCode => {\n    if (!colorCode) return 'none';\n\n    // Convertir hex en RGB\n    const hex = colorCode.replace('#', '');\n    const r = parseInt(hex.substr(0, 2), 16);\n    const g = parseInt(hex.substr(2, 2), 16);\n    const b = parseInt(hex.substr(4, 2), 16);\n\n    // Calculer les valeurs de filtre pour changer la couleur\n    const brightness = (r + g + b) / 765; // Normaliser entre 0 et 1\n    const hue = getHueFromRGB(r, g, b);\n    const saturation = getSaturationFromRGB(r, g, b);\n    return `hue-rotate(${hue}deg) saturate(${saturation}) brightness(${brightness})`;\n  };\n  const getHueFromRGB = (r, g, b) => {\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    let h = 0;\n    if (max === min) return 0;\n    const d = max - min;\n    if (max === r) h = (g - b) / d % 6;else if (max === g) h = (b - r) / d + 2;else h = (r - g) / d + 4;\n    return Math.round(h * 60);\n  };\n  const getSaturationFromRGB = (r, g, b) => {\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    if (max === 0) return 0;\n    return Math.round((max - min) / max * 100);\n  };\n\n  // Fonctions simplifiées pour les filtres CSS\n  const getHueFromColor = colorCode => {\n    if (!colorCode) return 0;\n    const hex = colorCode.replace('#', '');\n    const r = parseInt(hex.substr(0, 2), 16);\n    const g = parseInt(hex.substr(2, 2), 16);\n    const b = parseInt(hex.substr(4, 2), 16);\n    return getHueFromRGB(r, g, b);\n  };\n  const getSaturationFromColor = colorCode => {\n    if (!colorCode) return 100;\n    const hex = colorCode.replace('#', '');\n    const r = parseInt(hex.substr(0, 2), 16);\n    const g = parseInt(hex.substr(2, 2), 16);\n    const b = parseInt(hex.substr(4, 2), 16);\n    return Math.max(50, getSaturationFromRGB(r, g, b));\n  };\n  const getBrightnessFromColor = colorCode => {\n    if (!colorCode) return 100;\n    const hex = colorCode.replace('#', '');\n    const r = parseInt(hex.substr(0, 2), 16);\n    const g = parseInt(hex.substr(2, 2), 16);\n    const b = parseInt(hex.substr(4, 2), 16);\n\n    // Calculer la luminosité relative (0-255 -> 0-200%)\n    const brightness = (r + g + b) / 3;\n    return Math.max(20, Math.min(200, brightness / 255 * 200));\n  };\n\n  // Fonction pour gérer l'upload de logo\n  const handleLogoUpload = event => {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        setUploadedLogo(e.target.result);\n        setSelectedLogo({\n          nom: 'Logo personnalisé',\n          image: e.target.result,\n          position: {\n            x: 50,\n            y: 50\n          },\n          taille: {\n            largeur: logoSize,\n            hauteur: logoSize\n          }\n        });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  // Fonction pour supprimer le logo uploadé\n  const removeUploadedLogo = () => {\n    var _customizationOptions;\n    setUploadedLogo(null);\n    setSelectedLogo((customizationOptions === null || customizationOptions === void 0 ? void 0 : (_customizationOptions = customizationOptions.logosDisponibles) === null || _customizationOptions === void 0 ? void 0 : _customizationOptions[0]) || null);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom-hoodie-designer loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Chargement des options de personnalisation...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this);\n  }\n  if (!customizationOptions) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom-hoodie-designer error\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Erreur lors du chargement des options de personnalisation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"btn-secondary\",\n        children: \"Fermer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"custom-hoodie-designer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"designer-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Personnalisez votre \", product.nom]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"close-btn\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"designer-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-preview\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"preview-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hoodie-preview\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hoodie-image-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"/hoodie-white.jpg\",\n                alt: \"Capuche personnalis\\xE9e\",\n                className: \"hoodie-base-image\",\n                style: {\n                  filter: `hue-rotate(${getHueFromColor((selectedColor === null || selectedColor === void 0 ? void 0 : selectedColor.code) || '#FFFFFF')}deg) saturate(${getSaturationFromColor((selectedColor === null || selectedColor === void 0 ? void 0 : selectedColor.code) || '#FFFFFF')}%) brightness(${getBrightnessFromColor((selectedColor === null || selectedColor === void 0 ? void 0 : selectedColor.code) || '#FFFFFF')}%) contrast(1.2)`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this), selectedLogo && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"logo-overlay\",\n                style: {\n                  left: `${(selectedPosition === null || selectedPosition === void 0 ? void 0 : selectedPosition.x) || 50}%`,\n                  top: `${(selectedPosition === null || selectedPosition === void 0 ? void 0 : selectedPosition.y) || 50}%`,\n                  width: `${((_selectedLogo$taille = selectedLogo.taille) === null || _selectedLogo$taille === void 0 ? void 0 : _selectedLogo$taille.largeur) || 60}px`,\n                  height: `${((_selectedLogo$taille2 = selectedLogo.taille) === null || _selectedLogo$taille2 === void 0 ? void 0 : _selectedLogo$taille2.hauteur) || 60}px`,\n                  backgroundImage: `url(${selectedLogo.image})`,\n                  backgroundSize: 'contain',\n                  backgroundRepeat: 'no-repeat',\n                  backgroundPosition: 'center'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), previewLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"preview-loading\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"G\\xE9n\\xE9ration de l'aper\\xE7u...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: generatePreview,\n          className: \"generate-preview-btn\",\n          disabled: !selectedColor || !selectedLogo || !selectedPosition || previewLoading,\n          children: previewLoading ? 'Génération...' : 'Générer l\\'aperçu'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"customization-options\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Couleur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"option-scroll-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"scroll-btn left\",\n              onClick: () => scrollLeft(colorScrollRef),\n              children: /*#__PURE__*/_jsxDEV(FaChevronLeft, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-scroll\",\n              ref: colorScrollRef,\n              children: (customizationOptions === null || customizationOptions === void 0 ? void 0 : (_customizationOptions2 = customizationOptions.couleursDisponibles) === null || _customizationOptions2 === void 0 ? void 0 : _customizationOptions2.map((color, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `color-option ${(selectedColor === null || selectedColor === void 0 ? void 0 : selectedColor.nom) === color.nom ? 'selected' : ''}`,\n                onClick: () => setSelectedColor(color),\n                style: {\n                  backgroundColor: color.code\n                },\n                title: color.nom,\n                children: (selectedColor === null || selectedColor === void 0 ? void 0 : selectedColor.nom) === color.nom && /*#__PURE__*/_jsxDEV(FaCheck, {\n                  className: \"check-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 58\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this))) || []\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"scroll-btn right\",\n              onClick: () => scrollRight(colorScrollRef),\n              children: /*#__PURE__*/_jsxDEV(FaChevronRight, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), selectedColor && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"selected-option\",\n            children: [\"Couleur s\\xE9lectionn\\xE9e: \", selectedColor.nom]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"option-scroll-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"scroll-btn left\",\n              onClick: () => scrollLeft(logoScrollRef),\n              children: /*#__PURE__*/_jsxDEV(FaChevronLeft, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-scroll\",\n              ref: logoScrollRef,\n              children: (customizationOptions === null || customizationOptions === void 0 ? void 0 : (_customizationOptions3 = customizationOptions.logosDisponibles) === null || _customizationOptions3 === void 0 ? void 0 : _customizationOptions3.map((logo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `logo-option ${(selectedLogo === null || selectedLogo === void 0 ? void 0 : selectedLogo.nom) === logo.nom ? 'selected' : ''}`,\n                onClick: () => setSelectedLogo(logo),\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: logo.image,\n                  alt: logo.nom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this), (selectedLogo === null || selectedLogo === void 0 ? void 0 : selectedLogo.nom) === logo.nom && /*#__PURE__*/_jsxDEV(FaCheck, {\n                  className: \"check-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 56\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this))) || []\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"scroll-btn right\",\n              onClick: () => scrollRight(logoScrollRef),\n              children: /*#__PURE__*/_jsxDEV(FaChevronRight, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), selectedLogo && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"selected-option\",\n            children: [\"Logo s\\xE9lectionn\\xE9: \", selectedLogo.nom]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Position du logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"option-scroll-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"scroll-btn left\",\n              onClick: () => scrollLeft(positionScrollRef),\n              children: /*#__PURE__*/_jsxDEV(FaChevronLeft, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-scroll\",\n              ref: positionScrollRef,\n              children: (customizationOptions === null || customizationOptions === void 0 ? void 0 : (_customizationOptions4 = customizationOptions.positionsLogo) === null || _customizationOptions4 === void 0 ? void 0 : _customizationOptions4.map((position, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `position-option ${(selectedPosition === null || selectedPosition === void 0 ? void 0 : selectedPosition.nom) === position.nom ? 'selected' : ''}`,\n                onClick: () => setSelectedPosition(position),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"position-preview\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"position-dot\",\n                    style: {\n                      left: `${position.x}%`,\n                      top: `${position.y}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: position.nom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 21\n                }, this), (selectedPosition === null || selectedPosition === void 0 ? void 0 : selectedPosition.nom) === position.nom && /*#__PURE__*/_jsxDEV(FaCheck, {\n                  className: \"check-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 64\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this))) || []\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"scroll-btn right\",\n              onClick: () => scrollRight(positionScrollRef),\n              children: /*#__PURE__*/_jsxDEV(FaChevronRight, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), selectedPosition && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"selected-option\",\n            children: [\"Position s\\xE9lectionn\\xE9e: \", selectedPosition.nom]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"designer-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddToCart,\n        className: \"add-to-cart-btn\",\n        disabled: !selectedColor || !selectedLogo || !selectedPosition,\n        children: [\"Ajouter au panier - \", product.prix, \"\\u20AC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          var _customizationOptions5, _customizationOptions6, _customizationOptions7;\n          if ((customizationOptions === null || customizationOptions === void 0 ? void 0 : (_customizationOptions5 = customizationOptions.couleursDisponibles) === null || _customizationOptions5 === void 0 ? void 0 : _customizationOptions5.length) > 0) {\n            setSelectedColor(customizationOptions.couleursDisponibles[0]);\n          }\n          if ((customizationOptions === null || customizationOptions === void 0 ? void 0 : (_customizationOptions6 = customizationOptions.logosDisponibles) === null || _customizationOptions6 === void 0 ? void 0 : _customizationOptions6.length) > 0) {\n            setSelectedLogo(customizationOptions.logosDisponibles[0]);\n          }\n          if ((customizationOptions === null || customizationOptions === void 0 ? void 0 : (_customizationOptions7 = customizationOptions.positionsLogo) === null || _customizationOptions7 === void 0 ? void 0 : _customizationOptions7.length) > 0) {\n            setSelectedPosition(customizationOptions.positionsLogo[0]);\n          }\n        },\n        className: \"reset-btn\",\n        children: [/*#__PURE__*/_jsxDEV(FaUndo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this), \"R\\xE9initialiser\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomHoodieDesigner, \"pcvKUOwtRIppQ9m7K/UkvpcVi30=\");\n_c = CustomHoodieDesigner;\nexport default CustomHoodieDesigner;\nvar _c;\n$RefreshReg$(_c, \"CustomHoodieDesigner\");","map":{"version":3,"names":["React","useState","useEffect","useRef","FaChevronLeft","FaChevronRight","FaUndo","FaCheck","toast","api","jsxDEV","_jsxDEV","CustomHoodieDesigner","product","onAddToCart","onClose","_s","_selectedLogo$taille","_selectedLogo$taille2","_customizationOptions2","_customizationOptions3","_customizationOptions4","customizationOptions","setCustomizationOptions","selectedColor","setSelectedColor","selectedLogo","setSelectedLogo","selectedPosition","setSelectedPosition","loading","setLoading","previewLoading","setPreviewLoading","previewUrl","setPreviewUrl","uploadedLogo","setUploadedLogo","logoSize","setLogoSize","colorScrollRef","logoScrollRef","positionScrollRef","estPersonnalise","optionsPersonnalisation","_product$optionsPerso","_product$optionsPerso2","_product$optionsPerso3","_product$optionsPerso4","_product$optionsPerso5","_product$optionsPerso6","couleursDisponibles","length","logosDisponibles","positionsLogo","loadCustomizationOptions","_response$data","_response$data$couleu","_response$data2","_response$data2$logos","_response$data3","_response$data3$posit","response","get","_id","data","error","console","generatePreview","post","couleur","nom","logo","position","success","handleAddToCart","customProduct","personnalisation","scrollLeft","ref","current","scrollBy","left","behavior","scrollRight","getColorFilter","colorCode","hex","replace","r","parseInt","substr","g","b","brightness","hue","getHueFromRGB","saturation","getSaturationFromRGB","max","Math","min","h","d","round","getHueFromColor","getSaturationFromColor","getBrightnessFromColor","handleLogoUpload","event","file","target","files","reader","FileReader","onload","e","result","image","x","y","taille","largeur","hauteur","readAsDataURL","removeUploadedLogo","_customizationOptions","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","style","filter","code","top","width","height","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","disabled","map","color","index","backgroundColor","title","prix","_customizationOptions5","_customizationOptions6","_customizationOptions7","_c","$RefreshReg$"],"sources":["C:/Users/houda/OneDrive/Bureau/boutique-vetements/client/src/components/CustomHoodieDesigner.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { FaChevronLeft, FaChevronRight, FaUndo, FaCheck } from 'react-icons/fa';\r\nimport { toast } from 'react-toastify';\r\nimport api from '../config/axios';\r\nimport '../styles/CustomHoodieDesigner.css';\r\n\r\nconst CustomHoodieDesigner = ({ product, onAddToCart, onClose }) => {\r\n  const [customizationOptions, setCustomizationOptions] = useState(null);\r\n  const [selectedColor, setSelectedColor] = useState(null);\r\n  const [selectedLogo, setSelectedLogo] = useState(null);\r\n  const [selectedPosition, setSelectedPosition] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [previewLoading, setPreviewLoading] = useState(false);\r\n  const [previewUrl, setPreviewUrl] = useState(null);\r\n  const [uploadedLogo, setUploadedLogo] = useState(null);\r\n  const [logoSize, setLogoSize] = useState(60);\r\n  \r\n  // Refs pour le scrolling\r\n  const colorScrollRef = useRef(null);\r\n  const logoScrollRef = useRef(null);\r\n  const positionScrollRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (product && product.estPersonnalise && product.optionsPersonnalisation) {\r\n      // Si les options sont déjà disponibles dans le produit, les utiliser directement\r\n      setCustomizationOptions(product.optionsPersonnalisation);\r\n      \r\n      // Sélectionner les premières options par défaut\r\n      if (product.optionsPersonnalisation?.couleursDisponibles?.length > 0) {\r\n        setSelectedColor(product.optionsPersonnalisation.couleursDisponibles[0]);\r\n      }\r\n      if (product.optionsPersonnalisation?.logosDisponibles?.length > 0) {\r\n        setSelectedLogo(product.optionsPersonnalisation.logosDisponibles[0]);\r\n      }\r\n      if (product.optionsPersonnalisation?.positionsLogo?.length > 0) {\r\n        setSelectedPosition(product.optionsPersonnalisation.positionsLogo[0]);\r\n      }\r\n      setLoading(false);\r\n    } else if (product && product.estPersonnalise) {\r\n      // Sinon, charger les options via l'API\r\n      loadCustomizationOptions();\r\n    }\r\n  }, [product]);\r\n\r\n  const loadCustomizationOptions = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await api.get(`/api/products/${product._id}/options-personnalisation`);\r\n      setCustomizationOptions(response.data);\r\n      \r\n      // Sélectionner les premières options par défaut\r\n      if (response.data?.couleursDisponibles?.length > 0) {\r\n        setSelectedColor(response.data.couleursDisponibles[0]);\r\n      }\r\n      if (response.data?.logosDisponibles?.length > 0) {\r\n        setSelectedLogo(response.data.logosDisponibles[0]);\r\n      }\r\n      if (response.data?.positionsLogo?.length > 0) {\r\n        setSelectedPosition(response.data.positionsLogo[0]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erreur lors du chargement des options:', error);\r\n      toast.error('Erreur lors du chargement des options de personnalisation');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const generatePreview = async () => {\r\n    if (!selectedColor || !selectedLogo || !selectedPosition) {\r\n      toast.error('Veuillez sélectionner toutes les options');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setPreviewLoading(true);\r\n      const response = await api.post(`/api/products/${product._id}/preview-personnalise`, {\r\n        couleur: selectedColor.nom,\r\n        logo: selectedLogo.nom,\r\n        position: selectedPosition.nom\r\n      });\r\n      \r\n      setPreviewUrl(response.data.previewUrl);\r\n      toast.success('Aperçu généré avec succès !');\r\n    } catch (error) {\r\n      console.error('Erreur lors de la génération de l\\'aperçu:', error);\r\n      toast.error('Erreur lors de la génération de l\\'aperçu');\r\n    } finally {\r\n      setPreviewLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    if (!selectedColor || !selectedLogo || !selectedPosition) {\r\n      toast.error('Veuillez sélectionner toutes les options de personnalisation');\r\n      return;\r\n    }\r\n\r\n    const customProduct = {\r\n      ...product,\r\n      personnalisation: {\r\n        couleur: selectedColor,\r\n        logo: selectedLogo,\r\n        position: selectedPosition\r\n      }\r\n    };\r\n\r\n    onAddToCart(customProduct, 'M', selectedColor.nom);\r\n  };\r\n\r\n  const scrollLeft = (ref) => {\r\n    if (ref.current) {\r\n      ref.current.scrollBy({ left: -200, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  const scrollRight = (ref) => {\r\n    if (ref.current) {\r\n      ref.current.scrollBy({ left: 200, behavior: 'smooth' });\r\n    }\r\n  };\r\n\r\n  // Fonction pour générer les filtres CSS selon la couleur\r\n  const getColorFilter = (colorCode) => {\r\n    if (!colorCode) return 'none';\r\n    \r\n    // Convertir hex en RGB\r\n    const hex = colorCode.replace('#', '');\r\n    const r = parseInt(hex.substr(0, 2), 16);\r\n    const g = parseInt(hex.substr(2, 2), 16);\r\n    const b = parseInt(hex.substr(4, 2), 16);\r\n    \r\n    // Calculer les valeurs de filtre pour changer la couleur\r\n    const brightness = (r + g + b) / 765; // Normaliser entre 0 et 1\r\n    const hue = getHueFromRGB(r, g, b);\r\n    const saturation = getSaturationFromRGB(r, g, b);\r\n    \r\n    return `hue-rotate(${hue}deg) saturate(${saturation}) brightness(${brightness})`;\r\n  };\r\n\r\n  const getHueFromRGB = (r, g, b) => {\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    let h = 0;\r\n    \r\n    if (max === min) return 0;\r\n    \r\n    const d = max - min;\r\n    if (max === r) h = ((g - b) / d) % 6;\r\n    else if (max === g) h = (b - r) / d + 2;\r\n    else h = (r - g) / d + 4;\r\n    \r\n    return Math.round(h * 60);\r\n  };\r\n\r\n  const getSaturationFromRGB = (r, g, b) => {\r\n    const max = Math.max(r, g, b);\r\n    const min = Math.min(r, g, b);\r\n    if (max === 0) return 0;\r\n    return Math.round(((max - min) / max) * 100);\r\n  };\r\n\r\n  // Fonctions simplifiées pour les filtres CSS\r\n  const getHueFromColor = (colorCode) => {\r\n    if (!colorCode) return 0;\r\n    const hex = colorCode.replace('#', '');\r\n    const r = parseInt(hex.substr(0, 2), 16);\r\n    const g = parseInt(hex.substr(2, 2), 16);\r\n    const b = parseInt(hex.substr(4, 2), 16);\r\n    return getHueFromRGB(r, g, b);\r\n  };\r\n\r\n  const getSaturationFromColor = (colorCode) => {\r\n    if (!colorCode) return 100;\r\n    const hex = colorCode.replace('#', '');\r\n    const r = parseInt(hex.substr(0, 2), 16);\r\n    const g = parseInt(hex.substr(2, 2), 16);\r\n    const b = parseInt(hex.substr(4, 2), 16);\r\n    return Math.max(50, getSaturationFromRGB(r, g, b));\r\n  };\r\n\r\n  const getBrightnessFromColor = (colorCode) => {\r\n    if (!colorCode) return 100;\r\n    const hex = colorCode.replace('#', '');\r\n    const r = parseInt(hex.substr(0, 2), 16);\r\n    const g = parseInt(hex.substr(2, 2), 16);\r\n    const b = parseInt(hex.substr(4, 2), 16);\r\n    \r\n    // Calculer la luminosité relative (0-255 -> 0-200%)\r\n    const brightness = (r + g + b) / 3;\r\n    return Math.max(20, Math.min(200, (brightness / 255) * 200));\r\n  };\r\n\r\n  // Fonction pour gérer l'upload de logo\r\n  const handleLogoUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setUploadedLogo(e.target.result);\r\n        setSelectedLogo({\r\n          nom: 'Logo personnalisé',\r\n          image: e.target.result,\r\n          position: { x: 50, y: 50 },\r\n          taille: { largeur: logoSize, hauteur: logoSize }\r\n        });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  // Fonction pour supprimer le logo uploadé\r\n  const removeUploadedLogo = () => {\r\n    setUploadedLogo(null);\r\n    setSelectedLogo(customizationOptions?.logosDisponibles?.[0] || null);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"custom-hoodie-designer loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Chargement des options de personnalisation...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!customizationOptions) {\r\n    return (\r\n      <div className=\"custom-hoodie-designer error\">\r\n        <p>Erreur lors du chargement des options de personnalisation</p>\r\n        <button onClick={onClose} className=\"btn-secondary\">Fermer</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"custom-hoodie-designer\">\r\n      <div className=\"designer-header\">\r\n        <h2>Personnalisez votre {product.nom}</h2>\r\n        <button onClick={onClose} className=\"close-btn\">×</button>\r\n      </div>\r\n\r\n      <div className=\"designer-content\">\r\n        {/* Aperçu du produit */}\r\n        <div className=\"product-preview\">\r\n          <div className=\"preview-container\">\r\n            <div className=\"hoodie-preview\">\r\n              <div className=\"hoodie-image-container\">\r\n                <img \r\n                  src=\"/hoodie-white.jpg\" \r\n                  alt=\"Capuche personnalisée\" \r\n                  className=\"hoodie-base-image\"\r\n                  style={{\r\n                    filter: `hue-rotate(${getHueFromColor(selectedColor?.code || '#FFFFFF')}deg) saturate(${getSaturationFromColor(selectedColor?.code || '#FFFFFF')}%) brightness(${getBrightnessFromColor(selectedColor?.code || '#FFFFFF')}%) contrast(1.2)`\r\n                  }}\r\n                />\r\n                \r\n                {/* Logo overlay */}\r\n                {selectedLogo && (\r\n                  <div \r\n                    className=\"logo-overlay\"\r\n                    style={{\r\n                      left: `${selectedPosition?.x || 50}%`,\r\n                      top: `${selectedPosition?.y || 50}%`,\r\n                      width: `${selectedLogo.taille?.largeur || 60}px`,\r\n                      height: `${selectedLogo.taille?.hauteur || 60}px`,\r\n                      backgroundImage: `url(${selectedLogo.image})`,\r\n                      backgroundSize: 'contain',\r\n                      backgroundRepeat: 'no-repeat',\r\n                      backgroundPosition: 'center'\r\n                    }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            {previewLoading && (\r\n              <div className=\"preview-loading\">\r\n                <div className=\"spinner\"></div>\r\n                <p>Génération de l'aperçu...</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <button \r\n            onClick={generatePreview}\r\n            className=\"generate-preview-btn\"\r\n            disabled={!selectedColor || !selectedLogo || !selectedPosition || previewLoading}\r\n          >\r\n            {previewLoading ? 'Génération...' : 'Générer l\\'aperçu'}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Options de personnalisation */}\r\n        <div className=\"customization-options\">\r\n          {/* Sélection de couleur */}\r\n          <div className=\"option-section\">\r\n            <h3>Couleur</h3>\r\n            <div className=\"option-scroll-container\">\r\n              <button \r\n                className=\"scroll-btn left\"\r\n                onClick={() => scrollLeft(colorScrollRef)}\r\n              >\r\n                <FaChevronLeft />\r\n              </button>\r\n              \r\n              <div className=\"option-scroll\" ref={colorScrollRef}>\r\n                {customizationOptions?.couleursDisponibles?.map((color, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`color-option ${selectedColor?.nom === color.nom ? 'selected' : ''}`}\r\n                    onClick={() => setSelectedColor(color)}\r\n                    style={{ backgroundColor: color.code }}\r\n                    title={color.nom}\r\n                  >\r\n                    {selectedColor?.nom === color.nom && <FaCheck className=\"check-icon\" />}\r\n                  </div>\r\n                )) || []}\r\n              </div>\r\n              \r\n              <button \r\n                className=\"scroll-btn right\"\r\n                onClick={() => scrollRight(colorScrollRef)}\r\n              >\r\n                <FaChevronRight />\r\n              </button>\r\n            </div>\r\n            {selectedColor && (\r\n              <p className=\"selected-option\">Couleur sélectionnée: {selectedColor.nom}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Sélection de logo */}\r\n          <div className=\"option-section\">\r\n            <h3>Logo</h3>\r\n            <div className=\"option-scroll-container\">\r\n              <button \r\n                className=\"scroll-btn left\"\r\n                onClick={() => scrollLeft(logoScrollRef)}\r\n              >\r\n                <FaChevronLeft />\r\n              </button>\r\n              \r\n              <div className=\"option-scroll\" ref={logoScrollRef}>\r\n                {customizationOptions?.logosDisponibles?.map((logo, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`logo-option ${selectedLogo?.nom === logo.nom ? 'selected' : ''}`}\r\n                    onClick={() => setSelectedLogo(logo)}\r\n                  >\r\n                    <img src={logo.image} alt={logo.nom} />\r\n                    {selectedLogo?.nom === logo.nom && <FaCheck className=\"check-icon\" />}\r\n                  </div>\r\n                )) || []}\r\n              </div>\r\n              \r\n              <button \r\n                className=\"scroll-btn right\"\r\n                onClick={() => scrollRight(logoScrollRef)}\r\n              >\r\n                <FaChevronRight />\r\n              </button>\r\n            </div>\r\n            {selectedLogo && (\r\n              <p className=\"selected-option\">Logo sélectionné: {selectedLogo.nom}</p>\r\n            )}\r\n          </div>\r\n\r\n          {/* Sélection de position */}\r\n          <div className=\"option-section\">\r\n            <h3>Position du logo</h3>\r\n            <div className=\"option-scroll-container\">\r\n              <button \r\n                className=\"scroll-btn left\"\r\n                onClick={() => scrollLeft(positionScrollRef)}\r\n              >\r\n                <FaChevronLeft />\r\n              </button>\r\n              \r\n              <div className=\"option-scroll\" ref={positionScrollRef}>\r\n                {customizationOptions?.positionsLogo?.map((position, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`position-option ${selectedPosition?.nom === position.nom ? 'selected' : ''}`}\r\n                    onClick={() => setSelectedPosition(position)}\r\n                  >\r\n                    <div className=\"position-preview\">\r\n                      <div \r\n                        className=\"position-dot\"\r\n                        style={{\r\n                          left: `${position.x}%`,\r\n                          top: `${position.y}%`\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <span>{position.nom}</span>\r\n                    {selectedPosition?.nom === position.nom && <FaCheck className=\"check-icon\" />}\r\n                  </div>\r\n                )) || []}\r\n              </div>\r\n              \r\n              <button \r\n                className=\"scroll-btn right\"\r\n                onClick={() => scrollRight(positionScrollRef)}\r\n              >\r\n                <FaChevronRight />\r\n              </button>\r\n            </div>\r\n            {selectedPosition && (\r\n              <p className=\"selected-option\">Position sélectionnée: {selectedPosition.nom}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"designer-actions\">\r\n        <button \r\n          onClick={handleAddToCart}\r\n          className=\"add-to-cart-btn\"\r\n          disabled={!selectedColor || !selectedLogo || !selectedPosition}\r\n        >\r\n          Ajouter au panier - {product.prix}€\r\n        </button>\r\n        \r\n        <button \r\n          onClick={() => {\r\n            if (customizationOptions?.couleursDisponibles?.length > 0) {\r\n              setSelectedColor(customizationOptions.couleursDisponibles[0]);\r\n            }\r\n            if (customizationOptions?.logosDisponibles?.length > 0) {\r\n              setSelectedLogo(customizationOptions.logosDisponibles[0]);\r\n            }\r\n            if (customizationOptions?.positionsLogo?.length > 0) {\r\n              setSelectedPosition(customizationOptions.positionsLogo[0]);\r\n            }\r\n          }}\r\n          className=\"reset-btn\"\r\n        >\r\n          <FaUndo />\r\n          Réinitialiser\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomHoodieDesigner;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}